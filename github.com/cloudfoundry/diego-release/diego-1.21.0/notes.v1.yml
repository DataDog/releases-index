{
  "Content": "## Changes from v1.20.0 to v1.21.0\r\n\r\n- Verified with [garden-runc-release v1.9.0](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.9.0).\r\n- Verified with [garden-windows-bosh-release v0.4.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.4.0).\r\n- Verified with [etcd-release v112](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v112).\r\n- Verified with [cf-mysql-release v35](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v35).\r\n- Verified with [cflinuxfs2-release v1.137.0](https://github.com/cloudfoundry/cflinuxfs2-release/releases/tag/v1.137.0).\r\n\r\n\r\n**NOTE**: As a reminder, the route-emitter component is now recommended for use in cell-local mode to register both HTTP and TCP routes for app instances. We had previously declared them ready for use in Diego v1.13.0, but with this release we finally removed the experimental tag from the BOSH properties that enable these modes. Additionally, the global mode of the route-emitter is now deprecated, and we expect to remove that mode in the next major version of diego-release. The tcp-emitter component of the routing release is also now deprecated and will be removed at some future date.\r\n\r\n\r\n### Significant changes\r\n\r\n#### Local Route Emitters\r\n\r\n- [cloudfoundry/route-emitter #6: simplifies the swap logic by combining the two loops](https://www.pivotaltracker.com/story/show/147684417)\r\n- [cloudfoundry/route-emitter #7: use the scheduling info domain instead of figuring it out from actualâ€¦](https://www.pivotaltracker.com/story/show/147684421)\r\n\r\n#### De-Consuling Locks (Experimental)\r\n\r\n- [As a cfdot user, I expect to be able to release a locket lock or presence](https://www.pivotaltracker.com/story/show/147524635)\r\n- [As a Diego operator, I expect that the locket server is resilient to a rolling deploy of its MariaDB cluster](https://www.pivotaltracker.com/story/show/147786839) (in flight)\r\n\r\n\r\n#### Container Networking Support\r\n\r\n- [As a BBS API client, I expect each ActualLRP with nonzero networking information also includes the internal container IP](https://www.pivotaltracker.com/story/show/144635977)\r\n\r\n\r\n#### Declarative Health Checks (Experimental)\r\n\r\n- [As an app developer, I expect to see clear failure messages when an app instance fails because of the long-running healthcheck so that I can correct app behavior effectively](https://www.pivotaltracker.com/story/show/147526671)\r\n- [As a BBS API client, I expect to be able to specify the log source on the declarative healthcheck](https://www.pivotaltracker.com/story/show/147546375)\r\n\r\n\r\n#### Windows Support\r\n\r\n- [vcap user in cfwindowsfs does not have permissions to execute bindmount files when BOSH deployed](https://www.pivotaltracker.com/story/show/147772643)\r\n- [cloudfoundry/diego-release #319: Give BUILTIN/Users ReadAndExecute permission](https://www.pivotaltracker.com/story/show/147885333)\r\n- [cloudfoundry/healthcheck #3: reset status code in BeforeEach](https://www.pivotaltracker.com/story/show/148106175)\r\n\r\n\r\n#### Dependencies\r\n\r\n- [figure out how to fix ifrit's data race/panic](https://www.pivotaltracker.com/story/show/147374047)\r\n\r\n\r\n#### Test Suites and Tooling\r\n\r\n- [Diego CI runs healthcheck unit tests on Windows as well as Linux](https://www.pivotaltracker.com/story/show/148153823)\r\n- [Lower timeout on SSH port forwarding HTTP request in inigo](https://www.pivotaltracker.com/story/show/148346417)\r\n\r\n\r\n\r\n### BOSH job changes\r\n\r\nNone. \r\n\r\n\r\n### BOSH property changes\r\n\r\n- `diego.route_emitter.local_mode`: No longer experimental to enable.\r\n\r\n\r\n#### `route_emitter` and `route_emitter_windows`\r\n\r\n- `tcp.enabled`: No longer experimental to enable.\r\n\r\n\r\n### BOSH link changes\r\n\r\nNone.\r\n"
}