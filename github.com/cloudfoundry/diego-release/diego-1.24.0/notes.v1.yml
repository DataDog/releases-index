{
  "Content": "## Changes from v1.23.2 to v1.24.0\r\n\r\n- Verified with [garden-runc-release v1.9.0](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.9.0).\r\n- Verified with [garden-windows-bosh-release v0.7.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.7.0).\r\n- Verified with [etcd-release v117](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v117).\r\n- Verified with [cf-mysql-release v35](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v35).\r\n- Verified with [cflinuxfs2-release v1.145.0](https://github.com/cloudfoundry/cflinuxfs2-release/releases/tag/v1.145.0).\r\n\r\n\r\n### Significant changes\r\n\r\n#### BBS API\r\n\r\n- [LRP event stream intermittently incorrectly creating removed event when one ActualLRP removed but LRP group is still present](https://www.pivotaltracker.com/story/show/148732637)\r\n\r\n\r\n#### De-Consuling Locks (Experimental)\r\n\r\n- [As a Locket client, I expect to be able to specify the resource type via an enum instead of via a string-based value](https://www.pivotaltracker.com/story/show/147536219)\r\n- [As a Diego operator, I expect the locket server to report an error log line if it fails a lock request for a reason other than a lock collision](https://www.pivotaltracker.com/story/show/147904015)\r\n- [As a Diego operator, I expect to be able to configure the BBS not to detect cell registrations in Consul](https://www.pivotaltracker.com/story/show/149625133)\r\n\r\n\r\n#### Container Networking Support\r\n\r\n- [As a Diego operator, I expect to be able to opt the ssh-proxy into using instance IP and port information instead of the host-side IP and port in order to connect to them directly](https://www.pivotaltracker.com/story/show/145822655)\r\n\r\n\r\n#### v2 Loggregator API Adoption (Experimental)\r\n\r\n- [As a Diego operator, I expect locket to emit its component and Golang metrics via the v2 loggregator API if so configured](https://www.pivotaltracker.com/story/show/141155775)\r\n- [As a Diego operator, I expect to be able to opt all capable Diego components into using the v2 Loggregator API via the diego-release manifest-generation templates](https://www.pivotaltracker.com/story/show/149067715)\r\n\r\n\r\n#### Garden OCI Image Support (Experimental)\r\n\r\n- [As an OCI mode consumer, given that I have enabled the OCI mode feature flag, I expect to see that the RootFS uri passed to garden is of the form rootfs+droplet:// with the  correct rootfs and droplet path`](https://www.pivotaltracker.com/story/show/147910855)\r\n- [cloudfoundry/rep #15: Support preloaded+droplet scheme in rootFS URIs](https://www.pivotaltracker.com/story/show/149233877)\r\n- [cloudfoundry/bbs #21: Add PreloadedOCIRootFSScheme constant](https://www.pivotaltracker.com/story/show/149233933)\r\n\r\n\r\n#### Multi-Buildpack Support\r\n\r\n- [API client sees that Procfile values are merged with buildpack provided values](https://www.pivotaltracker.com/story/show/149324085)\r\n- [cloudfoundry/buildpackapplifecycle #21: Cannot clone git repositories when system buildpacks are present](https://www.pivotaltracker.com/story/show/149514119)\r\n- [Add missing error check on BAL and libbuildpack](https://www.pivotaltracker.com/story/show/149884993)\r\n\r\n\r\n#### Windows Support\r\n\r\n- [BAL runs on Windows Server 2016](https://www.pivotaltracker.com/story/show/147845349)\r\n- [cloudfoundry/diego-release #321: Allow Buildpack App Lifecycle to be built for Windows](https://www.pivotaltracker.com/story/show/148140389)\r\n- [cloudfoundry/diego-release #333: add ability to configure instance_identity on Windows](https://www.pivotaltracker.com/story/show/149182037)\r\n- [BAL - linux/windows split of copyDirectory etc....](https://www.pivotaltracker.com/story/show/149867892)\r\n\r\n\r\n#### App Logging and Metrics\r\n\r\n- [As a CF user, when my app instance or task has been signaled to shut down gracefully, I expect to see a log line indicating that in the log stream for that instance](https://www.pivotaltracker.com/story/show/113252049)\r\n\r\n\r\n#### Component Logging and Metrics\r\n\r\n- [As a Diego operator, I would like the BBS API access logs to contain the source IP and port of the request so that I can identify BBS API clients](https://www.pivotaltracker.com/story/show/147355221)\r\n\r\n\r\n#### Dependencies\r\n\r\n- [Switch Buildpack App Lifecycle to go-yaml](https://www.pivotaltracker.com/story/show/149413721)\r\n- [cloudfoundry/diego-release #337: Update buildpack_app_lifecycle and convert to go-yaml](https://www.pivotaltracker.com/story/show/149600797)\r\n\r\n\r\n#### Test Suites and Tooling\r\n\r\n- [Create an ops-file to run the BBS benchmarks on bosh-lite on a cf-deployment Diego](https://www.pivotaltracker.com/story/show/149024061)\r\n\r\n\r\n#### Security\r\n\r\n- [As a Diego operator, I expect the cell rep working directories (cacheddownloader asset cache, etc.) to be at fixed locations under `/var/vcap/data/rep`](https://www.pivotaltracker.com/story/show/149742283)\r\n\r\n\r\n#### Documentation\r\n\r\n- [cloudfoundry/vizzini #3: Documentation to start using the project](https://www.pivotaltracker.com/story/show/148060263)\r\n\r\n\r\n#### Cleanup\r\n\r\n- [Remove gorouter and any unnecessary related dependencies from diego-release](https://www.pivotaltracker.com/story/show/135871927)\r\n- [cloudfoundry/diego-release #335: Unused parameters in Diego manifest](https://www.pivotaltracker.com/story/show/149285861)\r\n\r\n\r\n### BOSH job changes\r\n\r\nNone.\r\n\r\n### BOSH property changes\r\n\r\n- Added `diego.bbs.detect_consul_cell_registrations`: Whether the BBS should detect cell registrations from Consul. Defaults to `true`.\r\n- Removed obsolete `diego.executor.cache_path`.\r\n\r\n\r\n#### `locket`\r\n\r\n- Added `loggregator.use_v2_api`: Whether to use the v2 Loggregator API when sending component metrics to the local metron agent.\r\n- Added `loggregator.v2_api_port`: Port for the v2 Loggregator API.\r\n- Added `loggregator.ca_cert`: CA certificate to use to validate the v2 Loggregator API connection to metron.\r\n- Added `loggregator.cert`: Certificate to present when connecting to the v2 Loggregator API.\r\n- Added `loggregator.key`: Private key for the v2 Loggregator API client.\r\n\r\n\r\n#### `ssh_proxy`\r\n\r\n- Added `connect_to_instance_address`: whether the SSH-Proxy should try connecting directly to the application instance IP instead of through the cell IP and translated port. Defaults to `false`.\r\n\r\n\r\n### BOSH link changes\r\n\r\nNone.\r\n"
}