{
  "Content": "## Changes from v1.13.0 to v1.14.0\r\n\r\n- Verified with [garden-runc-release v1.5.0](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.5.0).\r\n- Verified with [garden-windows-bosh-release v0.4.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.4.0).\r\n- Verified with [etcd-release v101](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v101).\r\n- Verified with [cf-mysql-release v34](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v34).\r\n- Verified with [cflinuxfs2-rootfs-release v1.114.0](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/releases/tag/v1.114.0).\r\n\r\n\r\n**IMPORTANT**: Operators using the experimental locket component to manage Diego component locks and cell registrations will need to drop the 'locks' table in the Diego relational database or the upgrade to Diego v1.14.0 will fail on the locket job. This backwards incompatibility results from a schema change introduced in [story #141394289](https://www.pivotaltracker.com/story/show/141394289). Upcoming work will make the locket component capable of performing these schema and data migrations itself.\r\n\r\n\r\n**IMPORTANT**: The manifest-generation system in this version of diego-release allows operators to opt into deploying the new [cflinuxfs2 release](https://github.com/cloudfoundry/cflinuxfs2-release/) in place of the [cflinuxfs2-rootfs release](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/), by supplying the `-r` flag on the script. Since the cflinuxfs2-rootfs release will stop receiving updates in mid-May, within a few minor versions the Diego manifest-generation system will switch to make the new cflinuxfs release the only deployment option, and the `-r` flag will be a no-op.\r\n\r\n\r\n### Significant changes\r\n\r\n#### BBS Benchmarks\r\n\r\n- [Investigate faster ways to seed the benchmarks](https://www.pivotaltracker.com/story/show/125602131)\r\n\r\n\r\n#### Performance Tuning\r\n\r\n- [As a Diego operator, I expect to be able to configure InnoDB log-flushing parameters on the cf-mysql release in order to improve BBS and locket performance at scale](https://www.pivotaltracker.com/story/show/142469731)\r\n\r\n\r\n#### Container Execution\r\n\r\n- [As a Diego operator, I expect the executor run step always to complete its perform call after being cancelled](https://www.pivotaltracker.com/story/show/143522473)\r\n\r\n\r\n#### `cfdot`\r\n\r\n- [As a cfdot user, I expect to be able to retrieve a single cell from the BBS by its ID](https://www.pivotaltracker.com/story/show/129376231)\r\n\r\n\r\n#### De-Consuling Locks (Experimental)\r\n\r\n- [As a Diego operator, I expect the content of the locket database not to grow without bound](https://www.pivotaltracker.com/story/show/141394289)\r\n- [As a Diego operator, I expect the cell rep to continue running even if unable to maintain its existing cell registration with locket](https://www.pivotaltracker.com/story/show/142867199)\r\n- [As a Diego operator, I expect to be able to opt the Windows Diego cells into registering themselves with locket instead of consul](https://www.pivotaltracker.com/story/show/144050629)\r\n\r\n\r\n#### Manifest Generation\r\n\r\n- [As a CF operator, I expect to be able to deploy Diego with the \"cflinuxfs2\" release instead of the \"cflinuxfs2-rootfs\" release](https://www.pivotaltracker.com/story/show/142965271)\r\n- [Set `cleanup_process_dirs_on_wait` to true in the manifest generation](https://www.pivotaltracker.com/story/show/143435979)\r\n\r\n\r\n#### Test Suites and Tooling\r\n\r\n- [As a Diego contributor, I expect the Diego team CI to run unit tests for Diego cell libraries and components on Windows](https://www.pivotaltracker.com/story/show/141099901)\r\n- [As a Diego operator, I expect to be able to run a vizzini errand VM from the cf-deployment manifest](https://www.pivotaltracker.com/story/show/142240607)\r\n\r\n\r\n### BOSH job changes\r\n\r\nNone.\r\n\r\n\r\n### BOSH property changes\r\n\r\n- Added `benchmark-bbs.reseed_database`: Whether to reseed the dataset for the BBS benchmark tests.\r\n\r\n\r\n### BOSH link changes\r\n\r\nNone.\r\n"
}