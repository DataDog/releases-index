{
  "Content": "## Changes from v1.11.0 to v1.12.0\r\n\r\n- Verified with [garden-runc-release v1.4.0](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.4.0).\r\n- Verified with [garden-windows-bosh-release v0.4.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.4.0).\r\n- Verified with [etcd-release v99](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v99).\r\n- Verified with [cf-mysql-release v34](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v34).\r\n- Verified with [cflinuxfs2-rootfs-release v1.60.0](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/releases/tag/v1.60.0).\r\n\r\n**IMPORTANT**: In advance of their use in the forthcoming v1.26.0 of [capi-release](https://github.com/cloudfoundry/capi-release), the manifest-generation script and templates require three new values in the property-overrides stub, `property_overrides.cc_uploader.ca_cert`, `client_cert`, and `client_key`, for the CC-Uploader component to use when communicating to Cloud Controller. Please consult the [TLS documentation in capi-release](https://github.com/cloudfoundry/capi-release/blob/develop/docs/tls-configuration.md) for more information.\r\n\r\n**IMPORTANT**: As of this Diego release, we consider the route-emitter job in local mode to be ready for use in production environments for HTTP route registrations. Work is also nearly complete to enable the local route-emitter to register TCP routes, but some of the BOSH properties that configure that mode will change in the next Diego release with the conclusion of [story #142885525](https://www.pivotaltracker.com/story/show/142885525), and the manifest-generation script will extract more values from the CF manifest automatically.\r\n\r\n\r\n### Significant changes\r\n\r\n#### SSH\r\n\r\n- [cloudfoundry/diego-ssh #30: SSH appears to hang with OpenSSH 7.3p1 from ubuntu yaketty](https://www.pivotaltracker.com/story/show/141695597)\r\n- [cloudfoundry/diego-release #288: Update golang crypto library](https://www.pivotaltracker.com/story/show/142145463)\r\n\r\n\r\n#### Routing\r\n\r\n- [operator should be able use BBS client to verify that when a desired LRP is created with an http route and router group guid, that only gorouters configured with this guid add the route to their table](https://www.pivotaltracker.com/story/show/141629039) (in flight)\r\n\r\n\r\n#### Local Route Emitters\r\n\r\n- [As a Diego operator, I expect the route-emitter not to fetch the DesiredLRP if it has routing information for at least one of its ports ](https://www.pivotaltracker.com/story/show/142363705)\r\n\r\n\r\n#### Local Route Emitters: TCP (Experimental)\r\n\r\n- [As a Diego operator, I expect to be able to opt the cell-local route-emitters into registering TCP routes with the routing API when UAA authentication is required](https://www.pivotaltracker.com/story/show/140323941)\r\n\r\n\r\n#### Instance Identity Credentials (Experimental)\r\n\r\n- [As a CF app developer, I expect the instance-identity certificates presented to a Linux app container always to be valid](https://www.pivotaltracker.com/story/show/141141585)\r\n- [As an app developer, I expect the instance-identity credential files to be replaced atomically in the Linux container filesystem on rotation](https://www.pivotaltracker.com/story/show/141163257)\r\n- [Fix ifrit panics](https://www.pivotaltracker.com/story/show/141712485)\r\n\r\n\r\n#### v2 Loggregator API Adoption (Experimental)\r\n\r\n- [As a Diego operator, I expect the cell reps to emit rep component metrics via the v2 loggregator API if so configured](https://www.pivotaltracker.com/story/show/140766299)\r\n- [Use the gogo proto backend to generate loggregator pb.go files](https://www.pivotaltracker.com/story/show/141451583)\r\n- [cloudfoundry/diego-release #289: Use InstanceId field instead of source_instance tag](https://www.pivotaltracker.com/story/show/142187317)\r\n\r\n\r\n#### Manifest Generation\r\n\r\n- [cloudfoundry/diego-release #292: Add CC-Uploader server mTLS certificates](https://www.pivotaltracker.com/story/show/142877365)\r\n\r\n\r\n#### Test Suites and Tooling\r\n\r\n- [fix flaky route-emitter watcher test suite](https://www.pivotaltracker.com/story/show/142850187)\r\n- [look into route-emitter flaky tests](https://www.pivotaltracker.com/story/show/143090277)\r\n\r\n\r\n#### Documentation\r\n\r\n- [As a CF operator, I expect the examples/aws documentation and templates to contain information about configuring the CC-Uploader with required TLS credentials](https://www.pivotaltracker.com/story/show/142028893)\r\n\r\n\r\n### BOSH job changes\r\n\r\nNone.\r\n\r\n\r\n### BOSH property changes\r\n\r\n#### `route_emitter` and `route_emitter_windows`\r\n\r\nAdded `uaa.ca_cert`: CA certificate bundle to trust when verifying the UAA server's certificate.\r\nAdded `uaa.client_name`: Name of the UAA client for the route-emitter to use. Defaults to `tcp_emitter`.\r\nAdded `uaa.client_secret`: Secret for the route-emitter UAA client.\r\nAdded `uaa.port`: Port on which to communicate with the UAA. Defaults to `8443` for direct internal communication.\r\nAdded `uaa.skip_cert_verify`: Whether the route-emitter should skip verification of the UAA server's certificate.\r\nAdded `uaa.url`: URL at which to communicate with the UAA. Defaults to `https://uaa.service.cf.internal` for direct internal communication.\r\n\r\n\r\n### BOSH link changes\r\n\r\nNone.\r\n"
}