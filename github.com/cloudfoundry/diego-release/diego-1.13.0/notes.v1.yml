{
  "Content": "## Changes from v1.12.0 to v1.13.0\r\n\r\n- Verified with [garden-runc-release v1.5.0](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.5.0).\r\n- Verified with [garden-windows-bosh-release v0.4.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.4.0).\r\n- Verified with [etcd-release v100](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v100).\r\n- Verified with [cf-mysql-release v34](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v34).\r\n- Verified with [cflinuxfs2-rootfs-release v1.60.0](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/releases/tag/v1.60.0).\r\n\r\n**IMPORTANT**: This version of Diego changes several of the properties for the local route-emitters to register TCP routes, and the manifest-generation script and templates also collect more UAA configuration information from the CF manifest automatically. With these changes, we also consider the TCP-registration mode for local route-emitters ready for production use.\r\n\r\n\r\n### Significant changes\r\n\r\n#### SSH\r\n\r\n- [Bump golang crypto dependency](https://www.pivotaltracker.com/story/show/143671869)\r\n\r\n\r\n#### Routing\r\n\r\n- [operator should be able use BBS client to verify that when a desired LRP is created with an http route and router group guid, that only gorouters configured with this guid add the route to their table](https://www.pivotaltracker.com/story/show/141629039)\r\n\r\n\r\n#### Local Route Emitters: TCP\r\n\r\n- [As a CF operator, I expect the BOSH properties for the route-emitters to do TCP route registration be minimal and consistent so that I can configure them easily](https://www.pivotaltracker.com/story/show/142885525)\r\n\r\n\r\n#### De-Consuling Locks (Experimental)\r\n\r\n- [As a Diego operator, I expect to be able to configure InnoDB log-flushing parameters on the cf-mysql release in order to improve BBS and locket performance at scale](https://www.pivotaltracker.com/story/show/142469731)\r\n- [As a Diego operator, I expect to be able to set the maximum number of open database connections on the locket server in order to tune performance](https://www.pivotaltracker.com/story/show/142469963)\r\n- [As a Diego operator, I expect the locket component to log only valuable information at the info level](https://www.pivotaltracker.com/story/show/142583253)\r\n- [As a Diego operator, I expect the locket component to emit metrics about active locks and cell registrations](https://www.pivotaltracker.com/story/show/142968519)\r\n\r\n\r\n#### Manifest Generation\r\n\r\n- [grootfs dropsonde_port should have a sane deafult](https://www.pivotaltracker.com/story/show/143680421)\r\n\r\n\r\n#### Component Logging and Metrics\r\n\r\n- [As a Diego operator, I would like to be able to determine whether the rep has hit the max download limit and is queueing download requests for assets](https://www.pivotaltracker.com/story/show/142343653)\r\n\r\n\r\n#### Test Suites and Tooling\r\n\r\n- [etcd2sql dusts should start at CF v233/Diego v0.1460.0 if postgres-release breaks them](https://www.pivotaltracker.com/story/show/143215309)\r\n- [units-common cacheddownloader failures](https://www.pivotaltracker.com/story/show/143217441)\r\n- [units-common is flaky and failed 10 times in a row](https://www.pivotaltracker.com/story/show/143253409)\r\n- [dusts deployment should set the mtu properly](https://www.pivotaltracker.com/story/show/143419225)\r\n\r\n\r\n#### Documentation\r\n\r\n- [cloudfoundry/diego-release #293: Fix links to cert generation scripts](https://www.pivotaltracker.com/story/show/143268389)\r\n- [cloudfoundry/diego-release #294: Fix markdown in CONTRIBUTING doc](https://www.pivotaltracker.com/story/show/143333623)\r\n- [cloudfoundry/diego-release #295: Update Go version in CONTRIBUTING.md](https://www.pivotaltracker.com/story/show/143333841)\r\n\r\n### BOSH job changes\r\n\r\nNone.\r\n\r\n\r\n### BOSH property changes\r\n\r\n#### `locket`\r\n\r\n- Added `database.max_open_connections`: Maximum number of open connections for each locket server to hold to the SQL database.\r\n- Added `dropsonde_port`: Port to use to emit locket component metrics to the local metron agent.\r\n\r\n#### `route_emitter` and `route_emitter_windows`\r\n\r\n- Changed `routing_api.uri` to `routing_api.url`.\r\n- Changed `routing_api.auth_disabled` to `routing_api.auth_enabled`, with default of `true`.\r\n- Changed `uaa.url` to `uaa.hostname`, with default value `uaa.service.cf.internal`. Communication to UAA is always over HTTPS.\r\n\r\n\r\n### BOSH link changes\r\n\r\nNone.\r\n"
}