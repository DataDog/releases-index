{
  "Content": "## Changes from v1.1.0 to v1.2.0\n- Verified with [garden-runc-release v1.0.4](https://github.com/cloudfoundry-incubator/garden-runc-release/releases/tag/v1.0.4).\n- Verified with [garden-windows-bosh-release v0.0.11](https://github.com/pivotal-cf-experimental/garden-windows-bosh-release/releases/tag/v0.0.11).\n- Verified with [etcd-release v87](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v87).\n- Verified with [cf-mysql-release v32](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v32).\n- Verified with [cflinuxfs2-rootfs-release v1.41.0](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/releases/tag/v1.41.0).\n\n**IMPORTANT**: It is now a deployment error not to configure a relational data store for the BBS API server. Both MySQL and Postgres are supported SQL dialects. Please see [documentation on Diego data stores](https://github.com/cloudfoundry/diego-release/blob/v1.2.0/docs/data-stores.md) for information about selecting a relational store and, for existing deployments, migrating data from etcd if so desired.\n\n**IMPORTANT**: This version of Diego makes it possible to secure the Auctioneer API via mutual TLS. Please see the updated [TLS configuration documentation](https://github.com/cloudfoundry/diego-release/blob/v1.2.0/docs/tls-configuration.md) for information on generating and configuring the TLS credentials, and [\"Upgrading to a TLS-Secured Auctioneer API\"](https://github.com/cloudfoundry/diego-release/blob/v1.2.0/docs/upgrading-secure-auctioneer-api.md) for detailed instructions on upgrading an existing deployment to mutual TLS without downtime.\n\n### Significant changes\n\n#### BBS Relational Datastore\n- [As a Diego operator, I expect not to be able to run Diego without a relational store](https://www.pivotaltracker.com/story/show/130496507)\n- [As a Diego operator, I expect a MySQL-backed BBS to be resilient to occasional deadlock errors](https://www.pivotaltracker.com/story/show/134198275)\n\n#### Container Execution\n- [As an app developer, I expect to have a CF_INSTANCE_INTERNAL_IP environment variable set to the non-loopback IP address inside the container](https://www.pivotaltracker.com/story/show/134020869)\n\n#### Windows Support\n- [cloudfoundry/diego-release #225: Remove powershell when starting jobs in Windows](https://www.pivotaltracker.com/story/show/134437405)\n- [Remove powershell when starting jobs in Windows](https://www.pivotaltracker.com/story/show/134103211)\n- [Fix Powershell error handling](https://www.pivotaltracker.com/story/show/134462851)\n- [Open Rep ports](https://www.pivotaltracker.com/story/show/135440395)\n\n#### Manifest Generation\n- [As a Diego operator, I expect the `capi.tps.traffic_controller_url` property to default to the tps job spec in the BOSH manifest](https://www.pivotaltracker.com/story/show/130134865)\n- [cloudfoundry/diego-release #227: wip: generate datadog firehose nozzle deployment manifest](https://www.pivotaltracker.com/story/show/134730155)\n- [As a CF operator, I expect the AWS example instructions to allow overriding the CF instance types](https://www.pivotaltracker.com/story/show/134799087)\n\n#### Test Suites and Tooling\n- [cloudfoundry/consuladapter #5: Remove prefix 'v' when parsing version](https://www.pivotaltracker.com/story/show/134256287)\n- [As a Diego operator, I expect to upgrades from Diego v1.0.0 to latest to be supported](https://www.pivotaltracker.com/story/show/134826343)\n\n#### Security\n- [As a Diego operator, I expect to be able to secure BBS communication to the auctioneer API so that I can create new deployments with secure communication](https://www.pivotaltracker.com/story/show/135649883)\n- [As a Diego operator, I expect to be able to upgrade existing deployments to a fully secure auctioneer API configuration without downtime](https://www.pivotaltracker.com/story/show/135654141)\n\n#### Documentation\n- [Remove minimal-aws instructions from diego-release](https://www.pivotaltracker.com/story/show/133167329)\n- [cloudfoundry/diego-release #229: Updating the name of the bbs log file](https://www.pivotaltracker.com/story/show/135244561)\n\n### BOSH job changes\n\nNone.\n\n### BOSH property changes\n- Added `diego.auctioneer.ca_cert`: CA cert for the auctioneer API server to use in TLS authentication.\n- Added `diego.auctioneer.server_cert`: Certificate for the auctioneer API server to use in TLS authentication.\n- Added `diego.auctioneer.server_key`: Private key for the auctioneer API server to use in TLS authentication.\n- Added `diego.bbs.auctioneer.api_location`: Hostname and port of the auctioneer API server. \n- Added `diego.bbs.auctioneer.ca_cert`: CA cert for the BBS auctioneer client to use in TLS authentication.\n- Added `diego.bbs.auctioneer.client_cert`: Certificate for the BBS auctioneer client to use in TLS authentication.\n- Added `diego.bbs.auctioneer.client_key`: Private key for the BBS auctioneer client to use in TLS authentication.\n- Added `diego.bbs.auctioneer.require_tls`: Whether the BBS auctioneer client strictly requires TLS.\n- Deprecated `diego.bbs.auctioneer.api_url` in favor of `diego.bbs.auctioneer.api_location`.\n"
}