{
  "Content": "## Changes from v1.19.0 to v1.20.0\r\n\r\n- Verified with [garden-runc-release v1.8.0](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.8.0).\r\n- Verified with [garden-windows-bosh-release v0.4.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.4.0).\r\n- Verified with [etcd-release v112](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v112).\r\n- Verified with [cf-mysql-release v35](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v35).\r\n- Verified with [cflinuxfs2-release v1.134.0](https://github.com/cloudfoundry/cflinuxfs2-release/releases/tag/v1.134.0).\r\n\r\n\r\n### Significant changes\r\n\r\n#### De-Consuling Locks (Experimental)\r\n\r\n- [As a Diego operator, I expect the locket servers to emit different logs and metrics for expired locks and expired presences](https://www.pivotaltracker.com/story/show/145895705)\r\n- [As a cfdot user, I expect to be able to claim a locket lock](https://www.pivotaltracker.com/story/show/147524631)\r\n- [As a cfdot user, I expect to be able to claim a locket presence](https://www.pivotaltracker.com/story/show/147524633)\r\n\r\n\r\n#### Container Networking Support (Experimental)\r\n\r\n- [As a Diego operator, I expect to be able to opt the route-emitters into broadcasting instance IPs and ports in HTTP and TCP route registrations so that the routers can connect to them directly](https://www.pivotaltracker.com/story/show/145822653)\r\n\r\n\r\n#### v2 Loggregator API Adoption (Experimental)\r\n\r\n- [As a Diego operator, I expect the cell reps to emit Golang runtime metrics through the v2 loggregator API if so configured](https://www.pivotaltracker.com/story/show/140766303)\r\n\r\n\r\n#### Declarative Health Checks (Experimental)\r\n\r\n- [As a BBS API client, I expect to be able to opt the Linux and Windows cell reps into preferring the declarative healthcheck over the Monitor action](https://www.pivotaltracker.com/story/show/146713357)\r\n- [As a Diego operator, I expect the Linux and Windows cell reps to perform the declarative healthcheck via a long-running healthcheck process instead of via periodic process invocations](https://www.pivotaltracker.com/story/show/146713365)\r\n\r\n\r\n#### Windows Support\r\n\r\n- [As an app developer, I expect to be able to run an app task on a Windows 2012 app](https://www.pivotaltracker.com/story/show/146897809)\r\n\r\n\r\n#### App Logging and Metrics\r\n\r\n- [As a CF developer, if my application instance is killed because of an out-of-memory error, I expect to see an indication of the out-of-memory error in the instance log stream](https://www.pivotaltracker.com/story/show/143074057)\r\n\r\n\r\n#### Component Logging and Metrics\r\n\r\n- [As a Diego operator, I expect the BBS to produce adequate logs when sending the rep messages to stop LRP instances or cancel Tasks](https://www.pivotaltracker.com/story/show/133655717)\r\n\r\n\r\n#### Dependencies\r\n\r\n- [As a Diego operator, I expect that the jq blob in diego-release indicates its version](https://www.pivotaltracker.com/story/show/128585081)\r\n- [submodule counterfeiter](https://www.pivotaltracker.com/story/show/146103845)\r\n- [figure out how to fix ifrit's data race/panic](https://www.pivotaltracker.com/story/show/147374047)\r\n\r\n\r\n#### Test Suites and Tooling\r\n\r\n- [Run the auction/simulation test suite in CI](https://www.pivotaltracker.com/story/show/138847053)\r\n- [cloudfoundry/diego-release #313: Add rep.placement-tags property to vizzini job](https://www.pivotaltracker.com/story/show/146527951)\r\n- [Modify dusts to consume dora from cf-release currently being deployed](https://www.pivotaltracker.com/story/show/146894195)\r\n\r\n\r\n#### Security\r\n\r\n- [cloudfoundry/diego-release #318: Add support for connecting to Locket DB over TLS](https://www.pivotaltracker.com/story/show/147390575)\r\n- [BOSH-Lite Diego deployment should configure components not to skip SSL verification](https://www.pivotaltracker.com/story/show/139408323)\r\n\r\n\r\n### BOSH job changes\r\n\r\nNone.\r\n\r\n\r\n### BOSH property changes\r\n\r\n- Added `diego.locket.sql.require_ssl`: Whether the locket server should require a TLS connection to its SQL database. Defaults to `false`.\r\n- Added `diego.locket.sql.ca_cert`: Bundle of PEM-encoded CA certs for the locket server to trust when connecting to the SQL DB over TLS.\r\n- Added `vizzini.rep.placement_tags`: List of placement tags to apply to LRPs and Tasks created in the vizzini test suite.\r\n\r\n\r\n#### `rep` and `rep_windows`\r\n\r\n- Added `enable_declarative_healthcheck`: Whether the rep should prefer the `CheckDefinition` on an LRP specification to the `Monitor` action for health-checking LRP instances. Defaults to `false`.\r\n\r\n#### `route_emitter` and `route_emitter_windows`\r\n\r\n- Added `register_direct_instance_routes`: Whether the route-emitter should use the instance-specific IP and container-side ports when registering HTTP and TCP routes. Defaults to `false`.\r\n\r\n#### `vizzini`\r\n\r\n- Added `enable_declarative_healthcheck`: Whether to enable declarative health-check tests in vizzini. Defaults to `false`.\r\n\r\n\r\n### BOSH link changes\r\n\r\nNone.\r\n"
}