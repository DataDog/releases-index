{
  "Content": "## Changes from v0.1468.0 to v0.1469.0\n- Verified with [garden-linux-release v0.337.0](https://github.com/cloudfoundry-incubator/garden-linux-release/releases/tag/v0.337.0).\n- Verified with [etcd-release v45](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v45).\n- Verified with [cflinuxfs2-rootfs-release v1.1.0](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/releases/tag/v1.1.0).\n\n### Significant changes\n\n**IMPORTANT**: This version of Diego is vulnerable to [CVE-2016-3091](https://lists.cloudfoundry.org/archives/list/cf-dev@lists.cloudfoundry.org/message/LUIIJLIZ77253X34SQADKXROHVFXYGN4/), which is related to the Diego executor's parsing of log output at UTF-8 boundaries. We strongly recommend that all operators on Diego v0.1468.0 through v0.1470.0 upgrade to [Diego v0.1471.0](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/v0.1471.0) or later. [Diego v0.1472.0](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/v0.1472.0) is recommended for use with the recently released [CF v237](https://github.com/cloudfoundry/cf-release/releases/tag/v237) and should be compatible with [CF v236](https://github.com/cloudfoundry/cf-release/releases/tag/v236).\n\n**IMPORTANT**: This version of Diego completes the extraction of the cflinuxfs2 rootfs to its [own release](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release). In order to deploy Diego for use by CF, upload the cflinuxfs2-rootfs release to your director and ensure that you are using the `cflinuxfs2-rootfs-setup` job from that release on the cells in place of the `rootfses` job. If you are installing additional certificates in the cflinuxfs2 trust store, change those certificates to be under the `cflinuxfs2-rootfs.trusted_certs` property instead. The diego-release manifest-generation scripts handle the job-template and property change transparently.\n\n**IMPORTANT**: This version of Diego also removes the CC-Bridge jobs that were previously copied to [capi-release](https://github.com/cloudfoundry/capi-release) and linked into [cf-release](https://github.com/cloudfoundry/cf-release). On the `cc_bridge` VMs in the Diego deployment, change the release of the `cc_uploader`, `stager`, `nsync`, and `tps` jobs from `diego` to `cf`. The diego-release manifest-generation scripts handle the job-template changes transparently. This version of Diego also then requires CF at version 236 or later for those jobs to be present and fully functional. For the time being, the BOSH properties for those jobs are the same, but an upcoming version of CF will change those properties from the `diego` namespace to `capi`.\n\n#### BBS Benchmarks\n- [BBS benchmarks should include load from an event-stream subscriber](https://www.pivotaltracker.com/story/show/117590529)\n\n#### BBS Relational Datastore (Experimental)\n- [As a Diego operator, I should be able to generate a Diego manifest with connection info for a relational store](https://www.pivotaltracker.com/story/show/117843831)\n- [SQL convergence: tasks with missing cells and tasks pending for too long should be marked completed](https://www.pivotaltracker.com/story/show/118060951)\n- [LRP convergence in SQL should not error when emitting metrics when there are no desired LRPs](https://www.pivotaltracker.com/story/show/118061525)\n- [Document BBS benchmarks configuration required to target either etcd or MySQL](https://www.pivotaltracker.com/story/show/118223207)\n- [As a Diego developer, I expect inigo and component integration test suites to run against both MySQL and etcd in CI](https://www.pivotaltracker.com/story/show/113854825) (in flight)\n- [As a Diego developer, I expect BBS unit tests to run against both MySQL and etcd in CI](https://www.pivotaltracker.com/story/show/113854823)\n- [As a Diego operator, I should be able to follow documentation to provision an RDS MySQL instance to support my AWS Diego deployment](https://www.pivotaltracker.com/story/show/117843837)\n\n#### Volume Support (Experimental)\n- [Volume Drivers are discoverable](https://www.pivotaltracker.com/story/show/115269143)\n- [Volume Drivers are activated the first time they are used](https://www.pivotaltracker.com/story/show/115269563)\n- [Volume Driver requests are retried with backoff before failing](https://www.pivotaltracker.com/story/show/115270017)\n- [Clean up certification suite so other teams can use it](https://www.pivotaltracker.com/story/show/117458861)\n- [Refactor driver discovery so that driver registry is owned by volman and acted upon by the driver syncer](https://www.pivotaltracker.com/story/show/117946623)\n- [Update Driver.Activate to return an array of 'Implements' as required by the docker spec](https://www.pivotaltracker.com/story/show/118027965)\n- [Refactor Driver routes to actually match the docker volume API; i.e. /create -\u003e /VolumeDriver.Create](https://www.pivotaltracker.com/story/show/117873189)\n- [Volman can discover docker drivers in an ordered list of folders](https://www.pivotaltracker.com/story/show/118324851)\n- [move system to gunk](https://www.pivotaltracker.com/story/show/118496675)\n- [fix failing inigo volman tests](https://www.pivotaltracker.com/story/show/118197009)\n\n#### Rootfs Release Extraction\n- [Remove 'rootfses' job from diego-release](https://www.pivotaltracker.com/story/show/115868559)\n\n#### CC-Bridge Transfer\n- [CAPI Release - Diego can only use Bridge components from CF](https://www.pivotaltracker.com/story/show/115735685)\n\n#### Dependencies\n- [Update Golang in diego-release to 1.6.2+](https://www.pivotaltracker.com/story/show/118100349)\n\n#### Test Suites and Tooling\n- [Investigate Failed Units run 2330](https://www.pivotaltracker.com/story/show/118194977)\n- [Fix race in bbs mysql cmd suite.](https://www.pivotaltracker.com/story/show/118115913)\n\n#### Cleanup\n- [Remove `diego.rep.stack` from rep job spec](https://www.pivotaltracker.com/story/show/114036767)\n\n### BOSH job changes\n- `rootfses` job deleted in favor of `cflinuxfs2-rootfs-setup` from the cflinuxfs2-rootfs release.\n- `cc-uploader` job deleted in favor of `cc-uploader` from capi-release or cf-release.\n- `nsync` job deleted in favor of `nsync` from capi-release or cf-release.\n- `stager` job deleted in favor of `stager` from capi-release or cf-release.\n- `tps` job deleted in favor of `tps` from capi-release or cf-release.\n\n### BOSH property changes\n- Removed all properties under `diego.cc_uploader`.\n- Removed all properties under `diego.nsync`.\n- Removed all properties under `diego.stager`.\n- Removed all properties under `diego.tps`.\n- Removed `diego.rep.stack` property.\n- Removed `diego.rootfs_cflinuxfs2.trusted_certs` property.\n- Removed spec default of `[\"cflinuxfs2:/var/vcap/packages/rootfs_cflinuxfs2/rootfs\"]` for `diego.rep.preloaded_rootfses`.\n"
}