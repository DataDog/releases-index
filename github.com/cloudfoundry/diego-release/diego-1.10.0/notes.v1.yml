{
  "Content": "## Changes from v1.9.0 to v1.10.0\r\n\r\n- Verified with [garden-runc-release v1.2.0](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.2.0).\r\n- Verified with [garden-windows-bosh-release v0.3.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.3.0).\r\n- Verified with [etcd-release v99](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v99).\r\n- Verified with [cf-mysql-release v34](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v34).\r\n- Verified with [cflinuxfs2-rootfs-release v1.56.0](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/releases/tag/v1.56.0).\r\n\r\n\r\n**IMPORTANT**: This version of Diego requires garden-runc version v1.2.0 or later, as the cell rep now uses the new `Image` field on the garden API ContainerSpec in order to pass Docker image credentials to the garden backend.\r\n\r\n\r\n### Significant changes\r\n\r\n#### `cfdot`\r\n\r\n- [As a cfdot user, I expect to be able to retrieve the list of cells from the BBS](https://www.pivotaltracker.com/story/show/129376229)\r\n\r\n\r\n#### Routing\r\n\r\n- [As a Diego operator, I expect the route-emitter job to fail if it its NATS configuration is incorrect so that existing applications remain routable](https://www.pivotaltracker.com/story/show/139229483)\r\n\r\n\r\n#### De-Consuling Locks (Experimental)\r\n\r\n- [As a Diego operator, I expect to be able to configure cells to register and unregister their presence via a locket API instead of consul](https://www.pivotaltracker.com/story/show/140331035)\r\n- [As a Diego operator, I expect the locket service to require mutual TLS authentication](https://www.pivotaltracker.com/story/show/140777507)\r\n- [As a Diego operator, I expect the cell registration API to support 2000 simultaneous cell registrations with 250K instances](https://www.pivotaltracker.com/story/show/140777513) (in flight)\r\n\r\n\r\n#### Instance Identity Credentials (Experimental)\r\n\r\n- [As a Diego operator, I expect to be able to set the duration for which the instance-identity credentials are valid](https://www.pivotaltracker.com/story/show/141139503) (in flight)\r\n\r\n#### Volume Support\r\n\r\n- [Clean up lager logging](https://www.pivotaltracker.com/story/show/137173687)\r\n- [volume services troubleshooting guide](https://www.pivotaltracker.com/story/show/138207779)\r\n\r\n\r\n#### v2 Loggregator API Adoption (Experimental)\r\n\r\n- [As a Diego operator, I expect to be able to opt the cell reps into emitting app logs via the v2 loggregator API](https://www.pivotaltracker.com/story/show/140766293)\r\n\r\n\r\n#### Docker Support\r\n\r\n- [As a BBS API client, I expect to be able to run Tasks and LRPs based on Docker images that require authenticated access](https://www.pivotaltracker.com/story/show/140436631)\r\n\r\n\r\n#### Windows Support\r\n\r\n- [As a Diego operator, I expect to be able to configure Windows cells to be able to download HTTPS assets both from publicly trusted sources and from internal sources](https://www.pivotaltracker.com/story/show/140569427)\r\n\r\n\r\n#### Test Suites and Tooling\r\n\r\n- [add a git hook that checks that canonical import paths are enforced](https://www.pivotaltracker.com/story/show/140983607)\r\n- [Fix grootfs config in inigo](https://www.pivotaltracker.com/story/show/141159949)\r\n\r\n\r\n### BOSH job changes\r\n\r\nNone.\r\n\r\n\r\n### BOSH property changes\r\n\r\n**NOTE**: Starting with this release, some BOSH job properties are intended to be local to particular BOSH job templates. These template-local properties are listed in separate subsections below.\r\n\r\n- Added `benchmark-bbs.bbs.ca_cert`: CA certificate for the BBS benchmark suite to validate the BBS and locket servers.\r\n- Added `benchmark-bbs.locket.api_location`: Address of the locket server.\r\n- Added `diego.executor.instance_identity_validity_period_in_hours`: Duration in hours for the instance-identity certificates to be valid. Experimental.\r\n- Added `diego.rep.locket.api_location`: Location of the locket API for cells to register their presence.\r\n- Added `diego.route_emitter.healthcheck_address`: Location at which the route-emitter should serve a health-check endpoint.\r\n\r\n\r\n#### `locket`\r\n\r\n- Added `tls.ca_cert`: CA certificate for locket server to validate client connections.\r\n- Added `tls.cert`: Certificate for locket server to present.\r\n- Added `tls.key`: Private key for locket server.\r\n\r\n\r\n#### `rep` and `rep_windows`\r\n\r\n- Added `loggregator.use_v2_api`: Whether to use the v2 Loggregator API when sending logs and metrics to the local metron agent.\r\n- Added `loggregator.v2_api_port`: Port for the v2 Loggregator API.\r\n- Added `loggregator.ca_cert`: CA certificate to use to validate the v2 Loggregator API connection to metron.\r\n- Added `loggregator.cert`: Certificate to present when connecting to the v2 Loggregator API.\r\n- Added `loggregator.key`: Private key for the v2 Loggregator API client.\r\n\r\n\r\n### BOSH link changes\r\n\r\nNone."
}