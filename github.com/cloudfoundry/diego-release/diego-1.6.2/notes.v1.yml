{
  "Content": "## Changes from v1.6.1 to v1.6.2\n- Verified with [garden-runc-release v1.1.1](https://github.com/cloudfoundry/garden-runc-release/releases/tag/v1.1.1).\n- Verified with [garden-windows-bosh-release v0.2.0](https://github.com/cloudfoundry-incubator/garden-windows-bosh-release/releases/tag/v0.2.0).\n- Verified with [etcd-release v90](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v90).\n- Verified with [cf-mysql-release v32](https://github.com/cloudfoundry/cf-mysql-release/releases/tag/v32).\n- Verified with [cflinuxfs2-rootfs-release v1.48.0](https://github.com/cloudfoundry/cflinuxfs2-rootfs-release/releases/tag/v1.48.0).\n\n**IMPORTANT**: For consumers of the experimental [container networking release](https://github.com/cloudfoundry-incubator/cf-networking-release), the format of the stub for the `-N` argument to Diego manifest generation has changed significantly, and the release itself has been renamed \"cf-networking\". Please consult [the manifest changelog for v0.15.0](https://github.com/cloudfoundry-incubator/cf-networking-release/blob/develop/docs/manifest-changelog.md#0150) for instructions on migrating values from a previous stub.\n\n**NOTE**: This version of Diego contains an experimental new BOSH job, locket, intended to serve as a new distributed-lock service for other Diego components such as the BBS and the auctioneer. This service and the integration of other components with it is still under heavy development, and is not yet even recommended for developmental use.\n\n### Significant changes\n\n#### Container Placement\n- [As a Diego operator, I expect cells not to abandon unplaceable replacement work during evacuation ](https://www.pivotaltracker.com/story/show/138210721)\n\n#### Local Route Emitters (Experimental)\n- [As an app developer, I expect that a Diego with local route-emitters correctly registers routes quickly for crashed apps](https://www.pivotaltracker.com/story/show/138543937)\n- [local route emitter tests are flaky because evacuation causes the entire parallel group to exit as soon as one fo the reps exit](https://www.pivotaltracker.com/story/show/138846475)\n\n#### De-Consuling Locks (Experimental)\n- [As a Diego operator, I can configure the BBS to elect its leader using a lock in the BBS DB](https://www.pivotaltracker.com/story/show/137463781)\n\n#### Container Networking Support (Experimental)\n- [Simplify / consolidate BOSH properties](https://www.pivotaltracker.com/story/show/137194915)\n- [cloudfoundry/diego-release #266: Rename netman to cf-networking](https://www.pivotaltracker.com/story/show/138770165)\n\n#### Windows Support\n- [cloudfoundry/diego-release #268: Use ca_certs_for_downloads in rep_windows](https://www.pivotaltracker.com/story/show/139050443)\n\n#### CC-Bridge Transfer\n- [TPS: As an Operator, I would like communication between CC and Diego to always use Mututal TLS](https://www.pivotaltracker.com/story/show/120643973)\n- [cloudfoundry/diego-release #264: Manifest generation: -B flag disables tps_listener](https://www.pivotaltracker.com/story/show/138647829)\n\n#### Test Suites and Tooling\n- [Look into locket flakes](https://www.pivotaltracker.com/story/show/132625243)\n- [Slow guardian container creation](https://www.pivotaltracker.com/story/show/137099073)\n\n### BOSH job changes\n\nAdded experimental `locket` job.\n\n### BOSH property changes\n- Added `diego.bbs.locket.api_location`: Location of locket API server. Experimental.\n- Added `diego.bbs.skip_consul_lock`: Whether the BBS is to skip acquiring the Consul lock. Experimental.\n- Added `diego.locket.listen_addr`: Address on which the locket API server should listen.\n- Added `diego.locket.debug_addr`: Address on which the locket debug server should listen.\n- Added `diego.locket.log_level`: Log level for the locket API server.\n- Added `diego.locket.sql.db_host`: Hostname of the SQL DB for the locket API server.\n- Added `diego.locket.sql.db_port`: Port of the SQL DB for the locket API server.\n- Added `diego.locket.sql.db_schema`: Database name of the SQL DB for the locket API server.\n- Added `diego.locket.sql.db_username`: Username for the locket API server to use to connect to its SQL DB.\n- Added `diego.locket.sql.db_password`: Password for the locket API server to use to connect to its SQL DB.\n- Added `diego.locket.sql.db_driver`: Dialect (MySQL or Postgres) of the SQL DB for the locket API server.\n"
}