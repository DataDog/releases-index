{
  "Content": "**Additional Steps**\r\n- CF Release:\r\n  - Add `uaa.internal_url` with a value of `https://uaa.service.cf.internal:8443`\r\n  - Deploy and test using `cf nozzle` (pushing app will most likely fail due to non loggregator issues)\r\n- CF Deployment:\r\n  - Remove `uaa.url`\r\n  - Deploy and test using `cf-nozzle`\r\n  - Remove `cc.srv_api_url` from loggregator components. See [here](https://github.com/cloudfoundry/cf-deployment/blob/7afc442f1111d573417ed86a106d646c7e4fb7ea/cf-deployment.yml#L1253)\r\n\r\n**Changelog:**\r\n- Add mutual TLS auth between Trafficcontroller and Cloud Controller\r\n  - TC New Properties:\r\n    - `cc.internal_service_hostname`\r\n    - `cc.tls_port`\r\n    - `cc.mutual_tls.ca_cert`\r\n    - `loggregator.tls.cc_trafficcontroller.cert`   \r\n    - `loggregator.tls.cc_trafficcontroller.key`\r\n  - TC Removed Properties:\r\n    - `cc.srv_api_url`\r\n- Trafficcontroller uses UAA internal URL\r\n  - TC New Properties:\r\n    - `uaa.internal_url`\r\n    - `uaa.ca_cert`\r\n  - TC Removed Properties\r\n    - `login.protocol`\r\n    - `uaa.url`\r\n- Decrease timeout for requests from TC to Doppler. This is to fix errors where clients using NOAA timeout after 10 seconds and fail.\r\n- Fix race condition in Trafficcontroller websocket keep-alive logic.\r\n- Trafficcontroller timeout websocket ping frames.\r\n- Metron metrics are emitted on interval of 60s.\r\n- Fix the way instance_id is handled when converting from v1 and v2 envelopes.\r\n- Add batching between Dopplers and TCs/RLPs.\r\n- RLP provides batching API.\r\n- Fix multiple write header calls in TC.\r\n- `killall` TC and RLP vs killing based on PID."
}