{
  "Content": "The cf-release v221 was released on October 14, 2015.\n\n**Important**:\n- As we extract components from `cf-release` to be independently testable and consumable, we've extracted `etcd-release`.  It is now being used in `cf-release`, `diego-release`, and several other releases.  More information, including links to view `etcd-release`'s robust CI pipelines can be seen in the [GitHub repo](https://github.com/cloudfoundry-incubator/etcd-release/).  One significant change in this release is that client-server communication and server-server peer communication now uses SSL by default.  However, components in cf-release don't yet support communicating with the etcd servers in SSL mode, so you must set the `etcd.require_peer_ssl` and `etcd.require_ssl` properties explicitly to `false` on your `etcd` jobs.  Additionally, Diego components _do_ support SSL communication with etcd, so if you have multiple etcd clusters within the same deployment (one for cf-release components and another for diego-release components), you should not set these properties globally; only disable SSL on the etcd cluster used for cf-release components.\n\n**Contents:**\n- \u003ca href='#cc-and-service-broker-apis'\u003eCC and Service Broker APIs\u003c/a\u003e\n- \u003ca href='#runtime'\u003eRuntime\u003c/a\u003e\n- \u003ca href='#buildpacks-and-stacks'\u003eBuildpacks and Stacks\u003c/a\u003e\n- \u003ca href='#identity'\u003eIdentity\u003c/a\u003e\n- \u003ca href='#routing'\u003eRouting\u003c/a\u003e\n- \u003ca href='#loggregator'\u003eLoggregator\u003c/a\u003e\n- \u003ca href='#internal-components'\u003eInternal Components\u003c/a\u003e\n- \u003ca href='#job-spec-changes'\u003eJob Spec Changes\u003c/a\u003e\n- \u003ca href='#recommended-bosh-release-and-stemcell-versions'\u003eRecommended BOSH Release and Stemcell Versions\u003c/a\u003e\n- \u003ca href='#recommended-diego-version'\u003eRecommended Diego Version\u003c/a\u003e\n- \u003ca href='#recommended-garden-linux-version'\u003eRecommended Garden Linux Version\u003c/a\u003e\n\n## \u003ca name='cc-and-service-broker-apis'\u003e\u003c/a\u003eCC and Service Broker APIs\n\n**CC API Version: [2.40.0](http://apidocs.cloudfoundry.org/221)** \n\n**Service Broker API Version: [2.7](http://docs.cloudfoundry.org/services/api.html)**\n\n#### [Cloud Controller](https://github.com/cloudfoundry/cloud_controller_ng/tree/21e84888d3d295b774cbc6cabeba6c1c21e4d325)\n- [Experimental] Work continues on /v3 and Application Process Types [details](https://www.pivotaltracker.com/epic/show/1334418)\n- [Experimental] Work continues on Private Brokers [details](https://www.pivotaltracker.com/epic/show/1958398)\n- [Experimental] Work continues on Route Services [details](https://www.pivotaltracker.com/epic/show/1884060)\n- Changed the directory key for app's buildpack_cache to allow for more consistent deletion [details](https://www.pivotaltracker.com/story/show/95583828)\n  - The full path for the buildpack cache of an app with guid `abcd-efgh` on stack `cflinuxfs2` would end up looking like `buildpack_cache/ab/cd/abcd-efgh/cflinuxfs2`\n  - changing this key will orphan some buildpack cache blobs. To clean this up, an admin can call the [buildpack_cache delete end point](http://apidocs.cloudfoundry.org/221/blobstores/delete_all_blobs_in_the_buildpack_cache_blobstore.html)\n  - Users re-pushing apps may experience a slightly longer staging time on the first push after upgrading to this release or after deleting the entire buildpack_cache.\n- Use the dropsonde protocol for emitting metrics [details](https://www.pivotaltracker.com/story/show/103598698)\n- Fixed issue where admins could not tail logs for apps in spaces they were not a member of [details](https://www.pivotaltracker.com/story/show/105047624)\n- cloudfoundry/cloud_controller_ng #446: Buildpacks are requested [details](https://www.pivotaltracker.com/story/show/105163082)\n  - Exposes an internal endpoint for getting URLs for all the buildpacks and removed the buildpack NATs message\n- Updated HTTPClient gem [details](https://www.pivotaltracker.com/story/show/104038782)\n- Updated to loggregator_emitter 5.0.1 [details](https://www.pivotaltracker.com/story/show/103598698)\n\n## \u003ca name='runtime'\u003e\u003c/a\u003eRuntime\n\n#### [DEA](https://github.com/cloudfoundry/dea_ng/commit/7899d3f08017f32f5a6fdfcab80519662df62275)\n- DEA hits CC HTTP endpoint on startup to fetch buildpack URIs, rather than gleaning them from response to `dea.advertise` NATS message. [details](https://www.pivotaltracker.com/story/show/104537940)\n\n#### Warden\n\nNo changes.\n\n#### HM9000\n\nNo changes.\n\n## \u003ca name='buildpacks-and-stacks'\u003e\u003c/a\u003eBuildpacks and Stacks\n\n### java-buildpack\n\nupdated to v3.3 (from v3.2)\n\n#### [v3.3](https://github.com/cloudfoundry/java-buildpack/releases/tag/v3.3)\n- When processing Java Options the `$` and `\\` characters are no longer escaped to allow environment properties to be used. (see the [documentation](https://github.com/cloudfoundry/java-buildpack/blob/master/docs/framework-java_opts.md#escaping-strings))\n- Improved Luna Security Provider HA Support\n- Improved configuration of the DynaTrace agent. (via [Tom Collings](https://github.com/cloudfoundry/java-buildpack/pull/235))\n- Better AppDynamics code comments. (via [Nikhil Katre](https://github.com/cloudfoundry/java-buildpack/pull/229))\n- Better documentation of the Oracle JRE support. (via [Dominik Bartholdi](https://github.com/cloudfoundry/java-buildpack/pull/230))\n\nFor a more detailed look at the changes in `3.3`, please take a look at the [commit log](https://github.com/cloudfoundry/java-buildpack/compare/v3.2...v3.3).\n\nPackaged Dependencies:\n\n| Dependency | Version |\n| --- | --- |\n| AppDynamics Agent | `4.1.4_2` |\n| GemFire | `8.0.0` |\n| GemFire Modules | `8.0.0.1` |\n| GemFire Modules Tomcat7 | `8.0.0.1` |\n| GemFire Security | `8.0.0` |\n| Groovy | `2.4.5` |\n| JRebel | `6.2.5` |\n| MariaDB JDBC | `1.2.2` |\n| Memory Calculator (`mountainlion`) | `2.0.0.RELEASE` |\n| Memory Calculator (`precise`) | `2.0.0.RELEASE` |\n| Memory Calculator (`trusty`) | `2.0.0.RELEASE` |\n| New Relic Agent | `3.21.0` |\n| OpenJDK JRE (`mountainlion`) | `1.8.0_60` |\n| OpenJDK JRE (`precise`) | `1.8.0_60` |\n| OpenJDK JRE (`trusty`) | `1.8.0_60` |\n| Play Framework JPA Plugin | `1.10.0.RELEASE` |\n| PostgreSQL JDBC | `9.4.1203` |\n| RedisStore | `1.2.0_RELEASE` |\n| SLF4J API | `1.5.8` |\n| SLF4J JDK14 | `1.5.8` |\n| Spring Auto-reconfiguration | `1.10.0_RELEASE` |\n| Spring Boot CLI | `1.2.6_RELEASE` |\n| Tomcat Access Logging Support | `2.4.0_RELEASE` |\n| Tomcat Lifecycle Support | `2.4.0_RELEASE` |\n| Tomcat Logging Support | `2.4.0_RELEASE` |\n| Tomcat | `8.0.27` |\n\n### php-buildpack\n\nupdated to v4.1.5 (from v4.1.4)\n\n#### [v4.1.5](https://github.com/cloudfoundry/php-buildpack/releases/tag/v4.1.5)\n- Update nginx to 1.9.5, drop 1.9.4\n  (https://www.pivotaltracker.com/story/show/103916116)\n- Add PHP 5.6.14 and 5.5.30, drop 5.6.12 and 5.5.28\n  (https://www.pivotaltracker.com/story/show/104524088)\n\nPackaged binaries:\n\n| name | version | cf_stacks | modules |\n| --- | --- | --- | --- |\n| php | 5.4.44 | cflinuxfs2 | amqp, apc, apcu, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib, zookeeper |\n| php | 5.4.45 | cflinuxfs2 | amqp, apc, apcu, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib, zookeeper |\n| php | 5.5.29 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.5.30 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.6.13 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xsl, yaf, zip, zlib |\n| php | 5.6.14 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| hhvm | 3.5.0 | cflinuxfs2 |  |\n| hhvm | 3.5.1 | cflinuxfs2 |  |\n| hhvm | 3.6.0 | cflinuxfs2 |  |\n| hhvm | 3.6.1 | cflinuxfs2 |  |\n| composer | 1.0.0-alpha10 | cflinuxfs2 |  |\n| httpd | 2.4.16 | cflinuxfs2 |  |\n| newrelic | 4.23.3.111 | cflinuxfs2 |  |\n| nginx | 1.6.3 | cflinuxfs2 |  |\n| nginx | 1.8.0 | cflinuxfs2 |  |\n| nginx | 1.9.5 | cflinuxfs2 |  |\n\n## \u003ca name='identity'\u003e\u003c/a\u003eIdentity\n- Bumped UAA to version 2.7.0.3 [details](https://github.com/cloudfoundry/uaa/releases/tag/2.7.0.3)\n  \n  ## \u003ca name='routing'\u003e\u003c/a\u003eRouting\n- Work continues on support for TCP routes in CF with updates to routes and shared domains in CC API  ([epic](https://www.pivotaltracker.com/epic/show/2025856))\n- Work continues on adding support for Route Services to CC API ([epic](https://www.pivotaltracker.com/epic/show/2031344))\n\n## \u003ca name='loggregator'\u003e\u003c/a\u003eLoggregator\n\n## \u003ca name='internal-components'\u003e\u003c/a\u003eInternal Components\n\n#### consul\n\nNo changes.\n\n#### [etcd](https://github.com/cloudfoundry-incubator/etcd-release/commit/f3e1eca6fb4b0ee9464a07d48e232836580ba0d2)\n\nNo functional changes.\n\n#### etcd-metrics-server\n\nNo changes.\n\n#### route_registrar\n\nNo changes.\n\n## \u003ca name='job-spec-changes'\u003e\u003c/a\u003eJob Spec Changes\n- Removed `metron_endpoint.shared_secret` property from `cloud_controller_clock`, `cloud_controller_ng`, `cloud_controller_worker`, and `gorouter` jobs. [details](https://pivotaltracker.com/story/show/103598698)\n- Changed default value of `metron_endpoint.port`from `3456` to `3457` in  `cloud_controller_clock`, `cloud_controller_ng`, and `cloud_controller_worker` jobs. [details](https://pivotaltracker.com/story/show/103598698)\n- Added `cc.srv_api_uri`, `cc.internal_api_user`, and `cc.internal_api_password` properties to `dea_next` job. [details](https://www.pivotaltracker.com/story/show/104537912)\n- Remove `etcd.machines` property from `doppler`, `loggregator_trafficcontroller`, `metron_agent`, and `syslog_drain_binder` jobs. [details](https://www.pivotaltracker.com/story/show/104333230)\n- Rename `etcd.maxconcurrentrequests` property to `loggregator.etcd.maxconcurrentrequests` in `loggregator_trafficcontroller`, `metron_agent`, and `syslog_drain_binder` jobs. [details](https://www.pivotaltracker.com/story/show/104333230)\n- Rename `router.servers` property to `uaa.proxy.servers` in `uaa` job. [details](https://github.com/cloudfoundry/cf-release/issues/804)\n- Changed default values of `etcd.require_ssl` property in `etcd` job from `false` to `true`. [details](https://www.pivotaltracker.com/story/show/99848706)\n- Changed default values of `etcd.require_peer_ssl` property in `etcd` job from `false` to `true`. [details](https://www.pivotaltracker.com/story/show/105057120)\n\n## \u003ca name='recommended-bosh-release-and-stemcell-versions'\u003e\u003c/a\u003eRecommended BOSH Release and Stemcell Versions\n- BOSH Release Version: bosh/201\n- BOSH Stemcell Version(s): bosh-aws-xen-hvm-ubuntu-trusty-go_agent/3026\n\nThese are soft recommendations; several different versions of the BOSH release and stemcell are likely to work fine with this version of cf-release.\n\n## \u003ca name='recommended-diego-version'\u003e\u003c/a\u003eRecommended Diego Version\n- Diego final release [v0.1436.0](https://github.com/cloudfoundry-incubator/diego-release/tree/v0.1436.0) · [release notes](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/0.1436.0)\n\nThis is a soft recommendation; several different versions of the diego-release may work fine with this version of cf-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended Garden Linux Version\n- Garden-linux final release [v0.308.0](https://github.com/cloudfoundry-incubator/garden-linux-release/tree/v0.308.0) · [release notes](https://github.com/cloudfoundry-incubator/garden-linux-release/releases/tag/v0.308.0)\n\nThis is a soft recommendation; several different versions of the garden-linux release may work fine with this version of cf-release and the aforementioned version of diego-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended ETCD Version for Diego Deployment\n- Etcd final release [15](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/15)\n\nThis is a soft recommendation; several different versions of the etcd release may work fine with this version of cf-release and the aforementioned version of diego-release.\n"
}