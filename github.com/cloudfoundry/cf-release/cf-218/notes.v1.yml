{
  "Content": "The cf-release v218 was released on September 22, 2015.\n\n**Important:**\n- In v217, we extracted a `route_registrar` job.  When deploying this release, it should be colocated with `cloud_controller_ng`, `uaa`, `hm9000`, and `loggregator_trafficcontroller` jobs.  In this release, it is required to colocate them with `uaa` and `hm9000` as they no longer register their own routes.  In subsequent releases it will be required for `cloud_controller_ng` and `loggregator_trafficcontroller` as well.  There is no harm in colocating it in all the places now as it is safe to duplicate the route registration.  The spec fixture manifests provide examples of how to colocate and configure the `route_registrar` job, for example here is how it is colocated with the `uaa` in zone 1: [[configuration](https://github.com/cloudfoundry/cf-release/blob/v218/spec/fixtures/warden/cf-manifest.yml.erb#L257-L265)] [[colocation](https://github.com/cloudfoundry/cf-release/blob/v218/spec/fixtures/warden/cf-manifest.yml.erb#L279-L280)].\n\n**Contents:**\n- \u003ca href='#cc-and-service-broker-apis'\u003eCC and Service Broker APIs\u003c/a\u003e\n- \u003ca href='#runtime'\u003eRuntime\u003c/a\u003e\n- \u003ca href='#buildpacks-and-stacks'\u003eBuildpacks and Stacks\u003c/a\u003e\n- \u003ca href='#routing'\u003eRouting\u003c/a\u003e\n- \u003ca href='#loggregator'\u003eLoggregator\u003c/a\u003e\n- \u003ca href='#internal-components'\u003eInternal Components\u003c/a\u003e\n- \u003ca href='#job-spec-changes'\u003eJob Spec Changes\u003c/a\u003e\n- \u003ca href='#recommended-bosh-release-and-stemcell-versions'\u003eRecommended BOSH Release and Stemcell Versions\u003c/a\u003e\n- \u003ca href='#recommended-diego-version'\u003eRecommended Diego Version\u003c/a\u003e\n- \u003ca href='#recommended-garden-linux-version'\u003eRecommended Garden Linux Version\u003c/a\u003e\n\n## \u003ca name='cc-and-service-broker-apis'\u003e\u003c/a\u003eCC and Service Broker APIs\n\n**CC API Version: 2.36.0**\n\n**Service Broker API Version: 2.6**\n\n#### [Cloud Controller](https://github.com/cloudfoundry/cloud_controller_ng/tree/f8daf346bbe9a73cc4591e1535843e2828227cb9)\n- [Experimental] Work continues on /v3 and Application Process Types [details](https://www.pivotaltracker.com/epic/show/1334418)\n- [Experimental] Work continues on Private Brokers [details](https://www.pivotaltracker.com/epic/show/1958398)\n- [Experimental] Work continues on Route Services [details](https://www.pivotaltracker.com/epic/show/1884060)\n- cloudfoundry/cloud_controller_ng #409: Pending apps filtered from Health Manager instances count [details](https://www.pivotaltracker.com/story/show/100645776)\n- modified newrelic config to specify hostname correctly [details](https://www.pivotaltracker.com/story/show/100475680)\n- Fixed cc USR1 trap to allow dumping thread information from a running cc process [details](https://www.pivotaltracker.com/story/show/102096402)\n- Added new admin only endpoint to purge a single service instance, its service bindings and service keys [details](https://www.pivotaltracker.com/story/show/101738420) [apidoc](http://apidocs.cloudfoundry.org/218/service_instances/delete_a_service_instance.html)\n  - Use with caution. This endpoint removes all knowledge of the service instance from cloud controller.\n  - Experimental flag will be removed in the next cf-release\n- Updated fog gem to 1.34\n- cloudfoundry/cloud_controller_ng #417: Broken cc.runner logger fixed [details](https://www.pivotaltracker.com/story/show/101954314)\n- cloudfoundry/cloud_controller_ng #421: Select from a larger pool of stagers if needed [details](https://www.pivotaltracker.com/story/show/102261106)\n  - `cc.placement_top_stager_percentage` is the new manifest configuration, defaults to 10.  Cloud controller will now select either the best 5 stagers or X% of available stagers, whichever is greater to select from for placement, where X is the value specified in this config.\n- Added new endpoints to allow Org and Space managers to add users by username [details](https://www.pivotaltracker.com/story/show/102136044)\n  - Associate Auditor with the Organization by Username [apidoc](http://apidocs.cloudfoundry.org/218/organizations/associate_auditor_with_the_organization_by_username_%28experimental%29.html)\n  - Associate Billing Manager with the Organization by Username [apidoc](http://apidocs.cloudfoundry.org/218/organizations/associate_billing_manager_with_the_organization_by_username_%28experimental%29.html)\n  - Associate Manager with the Organization by Username [apidoc](http://apidocs.cloudfoundry.org/218/organizations/associate_manager_with_the_organization_by_username_%28experimental%29.html)\n  - Associate User with the Organization by Username [apidoc](http://apidocs.cloudfoundry.org/218/organizations/associate_user_with_the_organization_by_username_%28experimental%29.html)\n  - Associate Auditor with the Space by Username [apidoc](http://apidocs.cloudfoundry.org/218/spaces/associate_auditor_with_the_space_by_username_%28experimental%29.html)\n  - Associate Developer with the Space by Username [apidoc](http://apidocs.cloudfoundry.org/218/spaces/associate_developer_with_the_space_by_username_%28experimental%29.html)\n  - Associate Manager with the Space by Username [apidoc](http://apidocs.cloudfoundry.org/218/spaces/associate_manager_with_the_space_by_username_%28experimental%29.html)\n- Added feature flags to control whether management of roles by username is allowed\n  - `set_roles_by_username`\n  - `unset_roles_by_username`\n  - When enabled, Org Managers or Space Managers can add access roles by username. In order for this feature to be enabled the CF operator must: 1) Enable the `/ids/users/` endpoint for UAA 2) Create a UAA `cloud_controller_username_lookup` client with the `scim.userids` authority\n- cloudfoundry/cloud_controller_ng #423: Enable nginx log format and destination config [details](https://www.pivotaltracker.com/story/show/102670230)\n  - `cc.nginx_access_log_format`\n  - `cc.nginx_error_log_destination`\n\n## \u003ca name='runtime'\u003e\u003c/a\u003eRuntime\n\n#### [DEA](https://github.com/cloudfoundry/dea_ng/commit/d53d1fd3bde0d05e1ec21d10f913515a57ca5ae3)\n\nNo functional changes.\n\n#### [Warden](https://github.com/cloudfoundry/warden/commit/9ea15c0c15df059acace1c8f121e2f7134ce5187)\n\nNo functional changes.\n\n#### [HM9000](https://github.com/cloudfoundry/hm-workspace/commit/d67db4ce2b08e66e2bd19763c9891243af9f459d)\n- HM9k no longer registers its own route. [details](https://www.pivotaltracker.com/story/show/102685094)\n\n## \u003ca name='buildpacks-and-stacks'\u003e\u003c/a\u003eBuildpacks and Stacks\n\n### stacks\n\nupdated to 1.8.0 (from 1.7.0)\n\n#### [1.8.0](https://github.com/cloudfoundry/stacks/releases/tag/1.8.0)\n\nNotably, this release addresses [USN-2739-1](http://www.ubuntu.com/usn/usn-2739-1), \"FreeType vulnerabilities\".\n\n### java-buildpack\n\nupdated to v3.2 (from v3.1.1)\n\n#### [v3.2](https://github.com/cloudfoundry/java-buildpack/releases/tag/v3.2)\n\nThis release focuses on more options to configure JRE memory settings.\n- Memory calculator 2.0.0 which includes support for specifying initial memory values and expected thread values.\n- Support for Luna HSM service to provide entropy.\n- Improved Dynatrace documentation. (via [Josef Hoerandtner](https://github.com/cloudfoundry/java-buildpack/pull/207))\n- Allow any additional New Relic configuration to be passed through to the agent. (via [Bryan Custer](https://github.com/cloudfoundry/java-buildpack/issues/221))\n- Support for Spring Insight updated to version 2.0.0.\n\nFor a more detailed look at the changes in `3.2`, please take a look at the [commit log](https://github.com/cloudfoundry/java-buildpack/compare/v3.1.1...v3.2). Packaged versions of the buildpack, suitable for use with `create-buildpack` and `update-buildpack`, can be found attached to this release.\n\n## Packaged Dependencies\n\n| Dependency | Version |\n| --- | --- |\n| AppDynamics Agent | `4.1.3_1` |\n| GemFire | `8.0.0` |\n| GemFire Modules | `8.0.0.1` |\n| GemFire Modules Tomcat7 | `8.0.0.1` |\n| GemFire Security | `8.0.0` |\n| Groovy | `2.4.4` |\n| JRebel | `6.2.3` |\n| MariaDB JDBC | `1.2.0` |\n| Memory Calculator (`mountainlion`) | `2.0.0.RELEASE` |\n| Memory Calculator (`precise`) | `2.0.0.RELEASE` |\n| Memory Calculator (`trusty`) | `2.0.0.RELEASE` |\n| New Relic Agent | `3.20.0` |\n| OpenJDK JRE (`mountainlion`) | `1.8.0_60` |\n| OpenJDK JRE (`precise`) | `1.8.0_60` |\n| OpenJDK JRE (`trusty`) | `1.8.0_60` |\n| Play Framework JPA Plugin | `1.10.0.RELEASE` |\n| PostgreSQL JDBC | `9.4.1202` |\n| RedisStore | `1.2.0_RELEASE` |\n| SLF4J API | `1.5.8` |\n| SLF4J JDK14 | `1.5.8` |\n| Spring Auto-reconfiguration | `1.10.0_RELEASE` |\n| Spring Boot CLI | `1.2.5_RELEASE` |\n| Tomcat Access Logging Support | `2.4.0_RELEASE` |\n| Tomcat Lifecycle Support | `2.4.0_RELEASE` |\n| Tomcat Logging Support | `2.4.0_RELEASE` |\n| Tomcat | `8.0.26` |\n\n### php-buildpack\n\nupdated to v4.1.2 (from v4.0.0)\n\n#### [v4.1.2](https://github.com/cloudfoundry/php-buildpack/releases/tag/v4.1.2)\n\nNote that 4.1.0 and 4.1.1 were not released.\n- Introduce _non-backwards_ compatible change to composer detection.\n  The buildpack will now, by default, detect composer files in the root directory of\n  a php application or a configured `WEBDIR` directory. For the buildpack to detect\n  composer files in another directory, one must explicitly set this directory via the\n  `COMPOSER_PATH` environment variable. For more information please refer to the\n  documentation here: http://docs.cloudfoundry.org/buildpacks/php/gsg-php-composer.html\n  (https://www.pivotaltracker.com/story/show/99170278)\n- Remove application developer's ability to override the buildpack's\n  binaries via DOWNLOAD_URL option.\n  (https://www.pivotaltracker.com/story/show/101243110)\n- Remove default php startup warnings in the event of unsupported extensions\n  within an application. The warnings have been replaced with a more explicit\n  'unsupported extension' message printed to standard error.\n  (https://www.pivotaltracker.com/story/show/100180478)\n- Add support for PHP versions: 5.6.12, 5.5.28, and 5.4.44.\n  Remove support for PHP versions: 5.6.10, 5.5.26, and 5.4.42.\n  Update all bundled PHPs with readline-ext built as a shared module.\n  (https://www.pivotaltracker.com/story/show/101121820)\n  (https://www.pivotaltracker.com/story/show/99436586)\n- Correct logging of downloaded resource sources\n  (https://www.pivotaltracker.com/story/show/100516510)\n- Document support for protobuf extension\n  (https://www.pivotaltracker.com/story/show/100244194)\n- `bin/detect` emits the buildpack version\n  (https://www.pivotaltracker.com/story/show/100757820)\n- Update Nginx binary to 1.9.3,\n  Apache HTTPD to 2.4.16,\n  NewRrelic to 4.23.3.111\n  (https://www.pivotaltracker.com/story/show/99507244)\n- PHP Updates for libsnmp vulnerability\n  (https://www.pivotaltracker.com/story/show/102276186)\n\nPackaged binaries:\n\n| name | version | cf_stacks | modules |\n| --- | --- | --- | --- |\n| php | 5.4.43 | cflinuxfs2 | amqp, apc, apcu, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib, zookeeper |\n| php | 5.4.44 | cflinuxfs2 | amqp, apc, apcu, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib, zookeeper |\n| php | 5.5.27 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.5.28 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.6.11 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xsl, yaf, zip, zlib |\n| php | 5.6.12 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xsl, yaf, zip, zlib |\n| hhvm | 3.5.0 | cflinuxfs2 |  |\n| hhvm | 3.5.1 | cflinuxfs2 |  |\n| hhvm | 3.6.0 | cflinuxfs2 |  |\n| hhvm | 3.6.1 | cflinuxfs2 |  |\n| composer | 1.0.0-alpha10 | cflinuxfs2 |  |\n| httpd | 2.4.16 | cflinuxfs2 |  |\n| newrelic | 4.23.3.111 | cflinuxfs2 |  |\n| nginx | 1.6.3 | cflinuxfs2 |  |\n| nginx | 1.8.0 | cflinuxfs2 |  |\n| nginx | 1.9.3 | cflinuxfs2 |  |\n\n### ruby-buildpack\n\nupdated to v1.6.7 (from v1.6.5)\n\n#### [v1.6.7](https://github.com/cloudfoundry/ruby-buildpack/releases/tag/v1.6.7)\n- Add support for jruby 9.0.1.0 (Removes support for jruby 9.0.0.0)\n- Add support for jruby 1.7.22 (Removes support for jruby 1.7.21)\n  (https://www.pivotaltracker.com/story/show/102606534)\n\nPackaged binaries:\n\n| name | version | cf_stacks |\n| --- | --- | --- |\n| ruby | 2.0.0 | cflinuxfs2 |\n| ruby | 2.1.6 | cflinuxfs2 |\n| ruby | 2.1.7 | cflinuxfs2 |\n| ruby | 2.2.2 | cflinuxfs2 |\n| ruby | 2.2.3 | cflinuxfs2 |\n| jruby | ruby-1.9.3-jruby-1.7.22 | cflinuxfs2 |\n| jruby | ruby-2.0.0-jruby-1.7.22 | cflinuxfs2 |\n| jruby | ruby-2.2.2-jruby-9.0.1.0 | cflinuxfs2 |\n| node | 0.12.7 | cflinuxfs2 |\n| bundler | 1.9.7 | cflinuxfs2 |\n| libyaml | 0.1.6 | cflinuxfs2 |\n| openjdk1.8-latest | 1.8.0_51 | cflinuxfs2 |\n| rails3_serve_static_assets | - | cflinuxfs2 |\n| rails_log_stdout | - | cflinuxfs2 |\n\n## \u003ca name='identity'\u003e\u003c/a\u003eIdentity\n\nNo Changes\n\n## \u003ca name='routing'\u003e\u003c/a\u003eRouting\n- Work continues on support for Route Services [details](https://www.pivotaltracker.com/epic/show/1884060), [more details](https://www.pivotaltracker.com/epic/show/2031344)\n- HAProxy now supports optional local logging, configurable buffer size, and optional support for a stats socket. [details](https://www.pivotaltracker.com/story/show/89303250)\n- Query parameters no longer cause a 404 when request is made to route with a context path [details](https://www.pivotaltracker.com/story/show/103106050)\n- A bug was introduced in v217 wherein gorouter logs are no longer rotated as frequently as they used to be. This could lead to failure if the disk fills up. A fix has been committed and will be included in v219 [details](https://www.pivotaltracker.com/story/show/103558422).\n\n## \u003ca name='loggregator'\u003e\u003c/a\u003eLoggregator\n\n[Loggregator release tag](https://github.com/cloudfoundry/loggregator/releases/tag/lgr-cf-v218)\n\n#### Loggregator Features\n- Metron's syslog forwarder configuration now supports syslog forwarding to a fallback host\n  - [details](https://www.pivotaltracker.com/story/show/99026454)\n  - [additional info](https://github.com/cloudfoundry/loggregator/issues/63)\n- Traffic Controller now uses an internal CC endpoint for authorization instead of a public /v2 API point.\n  - [details](https://www.pivotaltracker.com/story/show/102497458)\n\n#### Loggregator Bug Fixes\n- Several CI pipeline fixes\n\n## \u003ca name='internal-components'\u003e\u003c/a\u003eInternal Components\n\n#### etcd\n\nNo functional changes.\n\n#### consul\n- Wait for consul agent to exit after leave. [details](https://www.pivotaltracker.com/story/show/103064866)\n\n#### route_registrar\n\nNo functional changes.\n\n## \u003ca name='job-spec-changes'\u003e\u003c/a\u003eJob Spec Changes\n- Added `router.servers.z1` and `router.servers.z2` properties to `uaa` job. [details](https://www.pivotaltracker.com/story/show/103146414)\n- Added `uaa.proxy_ips_regex` property to `uaa` job. [details](https://www.pivotaltracker.com/story/show/103146414)\n- Added `uaa.logging_use_rfc3339` property to `uaa` job. [details](https://www.pivotaltracker.com/story/show/102291440)\n- Changed format of values for `route_registrar.routes` property in `route_registrar` job. [details](https://www.pivotaltracker.com/story/show/99063270)\n- Added `syslog_daemon_config.fallback_addresses` to `metron_agent` job. [details](https://www.pivotaltracker.com/story/show/99026454)\n- Removed `hm9000.url` property from `hm9000` job. [details](https://www.pivotaltracker.com/story/show/102685094)\n- Added `ha_proxy.log_to_file`, `ha_proxy.dontlognull`, `ha_proxy.buffer_size`, and `ha_proxy.enable_stats_socket` properties to `ha_proxy` job. [details](https://www.pivotaltracker.com/story/show/89303250)\n- Added `router.logging_level` to `gorouter` job. [details](https://github.com/cloudfoundry/cf-release/commit/ec4cf241a85dfd1c5bcf4b7187682db8e2bc7a82)\n- Replaced `router.route_service_secret` and `router.route_service_secret_prev` with `router.route_service_secrets` in `gorouter` job. [details](https://www.pivotaltracker.com/story/show/102600870)\n- Added `cc.placement_top_stager_percentage` property to `cloud_controller_ng` job. [details](https://www.pivotaltracker.com/story/show/102261106)\n- Added `cc.nginx_access_log_destination`, `cc.nginx_access_log_format`, `cc.nginx_error_log_destination`, and `cc.nginx_error_log_level` properties to `cloud_controller_ng` job. [details](https://www.pivotaltracker.com/story/show/102670230)\n\n## \u003ca name='recommended-bosh-release-and-stemcell-versions'\u003e\u003c/a\u003eRecommended BOSH Release and Stemcell Versions\n- BOSH Release Version: 201\n- BOSH Stemcell Version(s): 3026\n\nThese are soft recommendations; several different versions of the BOSH release and stemcell are likely to work fine with this version of cf-release.\n\n## \u003ca name='recommended-diego-version'\u003e\u003c/a\u003eRecommended Diego Version\n- Diego final release [0.1430.0](https://github.com/cloudfoundry-incubator/diego-release/tree/0.1430.0) · [release notes](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/0.1430.0)\n\nThis is a soft recommendation; several different versions of the diego-release may work fine with this version of cf-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended Garden Linux Version\n- Garden-linux final release [v0.305.0](https://github.com/cloudfoundry-incubator/garden-linux-release/tree/v0.305.0)\n\nThis is a soft recommendation; several different versions of the garden-linux release may work fine with this version of cf-release and the aforementioned version of diego-release.\n"
}