{
  "Content": "The cf-release v228 was released on January 15, 2016.\n\n### IMPORTANT\n\nDue to CVE-2016-0708 [1] and CVE-2016-0715 [2], if you are running applications with automated buildpack detection that staged when java buildpack v2.0 through v3.4 was a system buildpack, it is strongly recommended to configure running DEAs and Diego Cells to protect applications from remote disclosure of information until they are restaged with Java Buildpack v3.5.1 [3] registered as a system buildpack. Once you are sure that all applications have been staged with Java Buildpack v3.5.1 or higher as a system buildpack, you may remove this particular configuration and deploy again.\n\nIf you are using DEAs, configure the deployment manifest segment for DEAs as shown:\n\n```\nproperties:\n  dea_next:\n    post_setup_hook: \"rm -f app/.java-buildpack.log app/**/.java-buildpack.log \u003e/dev/null 2\u003e\u00261\"\n```\n\nIf you are using the manifest generation scripts in the cf-release repository, and you do not wish to directly merge configuration into your manifest, first make sure you have the correct version of the repository checked out (e.g. if using v228 of cf-release, check out the v228 tag); you include the same configuration above in your stub.\n\nIf you are using Diego with diego-release v0.1446.0, add the following properties to your BOSH deployment manifest for Diego:\n\n```\nproperties:\n  diego:\n    executor:\n      post_setup_hook: sh -c \"rm -f /home/vcap/app/.java-buildpack.log /home/vcap/app/**/.java-buildpack.log\"\n      post_setup_user: \"root\"\n```\n\nIf you are using the manifest generation scripts in the diego-release repository [4], then rather than directly including the above configuration in your manifest, add the following properties to your property-overrides stub:\n\n```\nproperty_overrides:\n  executor:\n    post_setup_hook: sh -c \"rm -f /home/vcap/app/.java-buildpack.log /home/vcap/app/**/.java-buildpack.log\"\n    post_setup_user: \"root\"\n```\n\n[1] https://pivotal.io/security/cve-2016-0708\n[2] https://pivotal.io/security/cve-2016-0715\n[3] https://github.com/cloudfoundry/java-buildpack/releases/tag/v3.5.1\n[4] https://github.com/cloudfoundry-incubator/diego-release/blob/v0.1446.0/scripts/generate-deployment-manifest\n\nA performance regression in Gorouter was introduced in v228. At low request volume, the issue is not observable; only at higher request volumes (such as a load test) is the regression evident. The regression was fixed in v234. \n\n**Contents:**\n- \u003ca href='#cc-and-service-broker-apis'\u003eCC and Service Broker APIs\u003c/a\u003e\n- \u003ca href='#runtime'\u003eRuntime\u003c/a\u003e\n- \u003ca href='#buildpacks-and-stacks'\u003eBuildpacks and Stacks\u003c/a\u003e\n- \u003ca href='#identity'\u003eIdentity\u003c/a\u003e\n- \u003ca href='#routing'\u003eRouting\u003c/a\u003e\n- \u003ca href='#loggregator'\u003eLoggregator\u003c/a\u003e\n- \u003ca href='#internal-components'\u003eInternal Components\u003c/a\u003e\n- \u003ca href='#job-spec-changes'\u003eJob Spec Changes\u003c/a\u003e\n- \u003ca href='#recommended-bosh-stemcell-versions'\u003eRecommended BOSH Stemcell Versions\u003c/a\u003e\n- \u003ca href='#recommended-diego-version'\u003eRecommended Diego Version\u003c/a\u003e\n- \u003ca href='#recommended-garden-linux-version'\u003eRecommended Garden Linux Version\u003c/a\u003e\n\n## \u003ca name='cc-and-service-broker-apis'\u003e\u003c/a\u003eCC and Service Broker APIs\n\n**CC API Version: [2.47.0](http://apidocs.cloudfoundry.org/228)** \n- NOTE: Support for v1 service brokers removed in this cf-release.\n\n**Service Broker API Version: [2.8](http://docs.cloudfoundry.org/services/api.html)**\n\n#### [Cloud Controller](https://github.com/cloudfoundry/cloud_controller_ng/tree/577f1a751736ad838bd3971825adcd291906aa02)\n- [Experimental] Work continues on /v3 and Application Process Types [details](https://www.pivotaltracker.com/epic/show/1334418)\n- [Experimental] Work continues on Private Brokers [details](https://www.pivotaltracker.com/epic/show/1958398)\n- [Experimental] Work started on Tasks [details](https://www.pivotaltracker.com/epic/show/2205074)\n  - New feature flag `task_creation` added, defaults to false\n- Allow using BOSH default cert store for all HTTP outgoing communication in CC [details](https://www.pivotaltracker.com/story/show/106996770)\n- Increase size of rules field in security_groups to 16 mb [details](https://www.pivotaltracker.com/story/show/102449084) \n- Remove support for v1 service brokers [detail](https://www.pivotaltracker.com/story/show/109473598)\n  - Removed POST /v2/service_plans endpoint\n  - Users can only update the public field on update for PUT /v2/service_plans\n  - Remove POST/PUT /v2/services \n\n## \u003ca name='runtime'\u003e\u003c/a\u003eRuntime\n\n#### DEA\n- [Added post_setup_hook](https://www.pivotaltracker.com/n/projects/900612/stories/111573674)\n\n#### Warden\n\nNo changes.\n\n#### HM9000\n\nNo changes.\n\n## \u003ca name='buildpacks-and-stacks'\u003e\u003c/a\u003eBuildpacks and Stacks\n\n### stacks\n\nupdated to 1.28.0 (from 1.24.0)\n\n#### [1.28.0](https://github.com/cloudfoundry/stacks/releases/tag/1.28.0)\n\nNotably, this release addresses [USN-2868-1](http://www.ubuntu.com/usn/usn-2868-1/) \"DHCP vulnerability\":\n- [CVE-2015-8605](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-8605.html): A badly formed packet with an invalid IPv4 UDP length field can cause a DHCP server, client, or relay program to terminate abnormally.\n\n#### [1.27.0](https://github.com/cloudfoundry/stacks/releases/tag/1.27.0)\n\nNotably, this release addresses [USN-2865-1](http://www.ubuntu.com/usn/usn-2865-1/) \"GnuTLS vulnerability\":\n- [CVE-2015-7575](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-7575.html): MD5 signatures accepted within TLS 1.2 ServerKeyExchange in server signature\n\n#### [1.26.0](https://github.com/cloudfoundry/stacks/releases/tag/1.26.0)\n\nRelease due to erroneous deploy. Contains no changes. Same as [Release 1.25.0](https://github.com/cloudfoundry/stacks/releases/tag/1.25.0)\n\n#### [1.25.0](https://github.com/cloudfoundry/stacks/releases/tag/1.25.0)\n\nNotably, this release addresses [USN-2861-1](http://www.ubuntu.com/usn/usn-2861-1/) \"libpng vulnerabilities\":\n- [CVE-2015-8540](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-8540.html): underflow read in png_check_keyword in pngwutil.c\n- [CVE-2015-8472](http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-8472.html): Incomplete fix for CVE-2015-8126\n\n### java-buildpack\n\nupdated to v3.4 (from v3.3.1)\n\n#### [v3.4](https://github.com/cloudfoundry/java-buildpack/releases/tag/v3.4)\n\nI'm pleased to announce the release of the `java-buildpack`, version `3.4`. This release focuses on developer diagnostic tools.\n- JMX Support with `cf ssh`\n- Debugging Support with `cf ssh` (via [Mike Youngstrom](https://github.com/cloudfoundry/java-buildpack/issues/238))\n- YourKit Profiling Support with `cf ssh`\n- Improved Tomcat documentation (via [Violeta Georgieva](https://github.com/cloudfoundry/java-buildpack/pull/247))\n- Improved Tomcat testing (via [Violeta Georgieva](https://github.com/cloudfoundry/java-buildpack/pull/261))\n- Improved AppDynamics config (via [Nikhil Katre](https://github.com/cloudfoundry/java-buildpack/pull/245))\n\nFor a more detailed look at the changes in `3.4`, please take a look at the [commit log](https://github.com/cloudfoundry/java-buildpack/compare/v3.3.1...v3.4). Packaged versions of the buildpack, suitable for use with `create-buildpack` and `update-buildpack`, can be found attached to this release.\n\n## Packaged Dependencies\n\n| Dependency | Version |\n| --- | --- |\n| AppDynamics Agent | `4.1.7_1` |\n| GemFire | `8.2.0` |\n| GemFire Modules | `8.2.0` |\n| GemFire Modules Tomcat7 | `8.2.0` |\n| GemFire Security | `8.2.0` |\n| Groovy | `2.4.5` |\n| JRebel | `6.3.0` |\n| MariaDB JDBC | `1.3.2` |\n| Memory Calculator (`mountainlion`) | `2.0.1.RELEASE` |\n| Memory Calculator (`precise`) | `2.0.1.RELEASE` |\n| Memory Calculator (`trusty`) | `2.0.1.RELEASE` |\n| New Relic Agent | `3.22.0` |\n| OpenJDK JRE (`mountainlion`) | `1.8.0_65` |\n| OpenJDK JRE (`precise`) | `1.8.0_65` |\n| OpenJDK JRE (`trusty`) | `1.8.0_65` |\n| Play Framework JPA Plugin | `1.10.0.RELEASE` |\n| PostgreSQL JDBC | `9.4.1206` |\n| RedisStore | `1.2.0_RELEASE` |\n| SLF4J API | `1.5.8` |\n| SLF4J JDK14 | `1.5.8` |\n| Spring Auto-reconfiguration | `1.10.0_RELEASE` |\n| Spring Boot CLI | `1.3.0_RELEASE` |\n| Tomcat Access Logging Support | `2.4.0_RELEASE` |\n| Tomcat Lifecycle Support | `2.4.0_RELEASE` |\n| Tomcat Logging Support | `2.4.0_RELEASE` |\n| Tomcat | `8.0.29` |\n| YourKit Profiler | `2015.15080` |\n\n### php-buildpack\n\nupdated to v4.3.2 (from v4.3.1)\n\n#### [v4.3.2](https://github.com/cloudfoundry/php-buildpack/releases/tag/v4.3.2)\n- Add nginx 1.9.9, drop nginx 1.9.7\n  (https://www.pivotaltracker.com/story/show/110627098)\n- Add httpd 2.4.18, drop httpd 2.4.17\n  (https://www.pivotaltracker.com/story/show/110627098)\n\nPackaged binaries:\n\n| name | version | cf_stacks | modules |\n| --- | --- | --- | --- |\n| php | 5.5.29 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.5.30 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.6.15 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.6.16 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| hhvm | 3.5.0 | cflinuxfs2 |  |\n| hhvm | 3.5.1 | cflinuxfs2 |  |\n| hhvm | 3.6.0 | cflinuxfs2 |  |\n| hhvm | 3.6.1 | cflinuxfs2 |  |\n| composer | 1.0.0-alpha10 | cflinuxfs2 |  |\n| httpd | 2.4.18 | cflinuxfs2 |  |\n| newrelic | 4.23.3.111 | cflinuxfs2 |  |\n| nginx | 1.8.0 | cflinuxfs2 |  |\n| nginx | 1.9.9 | cflinuxfs2 |  |\n- SHA256: 85c91281f762d2be37c729cf708040c96ceac764cce6e5f3392ef667e86d9342\n\n### python-buildpack\n\nupdated to v1.5.4 (from v1.5.3)\n\n#### [v1.5.4](https://github.com/cloudfoundry/python-buildpack/releases/tag/v1.5.4)\n- Added 3.4.4, removed 3.4.2\n  (https://www.pivotaltracker.com/story/show/111145834)\n- Revert to v1.5.2 of pip-install script to prevent issue where\n  pip contacts the internet in the cached buildpack. \n  (https://www.pivotaltracker.com/n/projects/1042066/stories/111018262)\n  - This fixes a defect that would cause a python app to fail to stage when in a disconnected environment.\n\nPackaged binaries:\n\n| name | version | cf_stacks |\n| --- | --- | --- |\n| python | 2.7.10 | cflinuxfs2 |\n| python | 2.7.11 | cflinuxfs2 |\n| python | 3.3.5 | cflinuxfs2 |\n| python | 3.3.6 | cflinuxfs2 |\n| python | 3.4.3 | cflinuxfs2 |\n| python | 3.4.4 | cflinuxfs2 |\n| python | 3.5.0 | cflinuxfs2 |\n| python | 3.5.1 | cflinuxfs2 |\n| libffi | 3.1 | cflinuxfs2 |\n| libmemcache | 1.0.18 | cflinuxfs2 |\n- SHA256: 9841ba3dde6778782471597aa8462bf0c5ccd455181b8e91802071b18acbc65c\n\n### ruby-buildpack\n\nupdated to v1.6.12 (from v1.6.11)\n\n#### [v1.6.12](https://github.com/cloudfoundry/ruby-buildpack/releases/tag/v1.6.12)\n- add Ruby 2.3.0\n  (https://www.pivotaltracker.com/story/show/110759512)\n\nPackaged binaries:\n\n| name | version | cf_stacks |\n| --- | --- | --- |\n| ruby | 2.0.0 | cflinuxfs2 |\n| ruby | 2.1.7 | cflinuxfs2 |\n| ruby | 2.1.8 | cflinuxfs2 |\n| ruby | 2.2.3 | cflinuxfs2 |\n| ruby | 2.2.4 | cflinuxfs2 |\n| ruby | 2.3.0 | cflinuxfs2 |\n| jruby | ruby-1.9.3-jruby-1.7.23 | cflinuxfs2 |\n| jruby | ruby-2.0.0-jruby-1.7.23 | cflinuxfs2 |\n| jruby | ruby-2.2.2-jruby-9.0.4.0 | cflinuxfs2 |\n| node | 0.12.7 | cflinuxfs2 |\n| bundler | 1.9.7 | cflinuxfs2 |\n| libyaml | 0.1.6 | cflinuxfs2 |\n| openjdk1.8-latest | 1.8.0_65 | cflinuxfs2 |\n| rails3_serve_static_assets | - | cflinuxfs2 |\n| rails_log_stdout | - | cflinuxfs2 |\n- SHA256: 790409854a1bd73661c822ae4a46a8a2e08f89b7c01016155cd86b041d789885\n\n### staticfile-buildpack\n\nupdated to v1.3.0 (from v1.2.3)\n\n#### [v1.3.0](https://github.com/cloudfoundry/staticfile-buildpack/releases/tag/v1.3.0)\n\nItem of note: \n- We've updated the version of this release to 1.3.0 to represent a new milestone of tracking nginx mainline releases. \n- added nginx 1.9.9, drop 1.8.0\n  (https://www.pivotaltracker.com/story/show/110627622)\n- correctly redirect http to https\n\nPackaged binaries:\n\n| name | version | cf_stacks |\n| --- | --- | --- |\n| nginx | 1.9.9 | cflinuxfs2 |\n- SHA256: 7616b0339149743cf18b36cd87ae83ffc76095aa9221465c8d27e244a3be4c27\n\n## \u003ca name='identity'\u003e\u003c/a\u003eIdentity\n- No changes\n\n## \u003ca name='routing'\u003e\u003c/a\u003eRouting\n- Deploy fails fast if `gorouter.enable_routing_api:true` and on startup gorouter fails to authenticate with routing api [details](https://www.pivotaltracker.com/story/show/109854678)\n- Routing API is no longer deployed with cf-release. For the time being, this component will be deployed with cf-routing-release [details](https://www.pivotaltracker.com/story/show/111194442)\n\n## \u003ca name='loggregator'\u003e\u003c/a\u003eLoggregator\n- No changes\n\n## \u003ca name='internal-components'\u003e\u003c/a\u003eInternal Components\n\n#### consul\n- Delete PIDFILE on `monit stop`. [details](https://www.pivotaltracker.com/story/show/111104424)\n- Fix nameserver insertion into `/etc/resolv.conf`. [details](https://www.pivotaltracker.com/story/show/108048076)\n- Insert 127.0.0.1 as the first line of `/etc/resolv.conf.d/head` instead of re-writing the file. [details](https://www.pivotaltracker.com/story/show/109641062)\n\n#### etcd\n- Several changes to make etcd startup more robust, especially in \"SSL mode\" where it has a dependency on the local consul agent. [details](https://www.pivotaltracker.com/story/show/111027122), [details](https://www.pivotaltracker.com/story/show/111027058), [details](https://www.pivotaltracker.com/story/show/110687048)\n\n#### etcd-metrics-server\n\nNo changes.\n\n#### route_registrar\n- Deregister routes on shutdown instead of just leaving TTL to expire. [details](https://www.pivotaltracker.com/story/show/107466938)\n- INCOMPLETE: Introduce healthcheck contract for processes whose routes are being registered. [details](https://www.pivotaltracker.com/story/show/107467058)\n\n## \u003ca name='job-spec-changes'\u003e\u003c/a\u003eJob Spec Changes\n- Added `dea_next.post_setup_hook` to `dea_next` job; note this property is immediately DEPRECATED and was only added to mitigate the CVE mentioned at the top of these release notes. [details](https://www.pivotaltracker.com/story/show/111573674)\n- Removed `etcd.log_sync_timeout_in_seconds` property from `etcd` jobs. [details](https://www.pivotaltracker.com/story/show/111027122)\n- Added `hm9000.port` property to `hm9000` job. [details](https://www.pivotaltracker.com/story/show/111497932)\n- Updated `route_registrar.routes` property in `route_registrar` job to accept `healthcheck` and `healthcheck.timeout`. [details](https://www.pivotaltracker.com/story/show/107467058)\n- Removed `uaa.jwt.verification_key` property from `routing-api` job. [details](https://www.pivotaltracker.com/story/show/107612964)\n- Added `uaa.port` property to `routing-api` job. [details](https://www.pivotaltracker.com/story/show/107612964)\n\n## \u003ca name='recommended-bosh-stemcell-versions'\u003e\u003c/a\u003eRecommended BOSH Stemcell Versions\n- AWS: light-bosh-stemcell-3177-aws-xen-hvm-ubuntu-trusty-go_agent\n- vSphere: bosh-stemcell-3177-vsphere-esxi-ubuntu-trusty-go_agent\n- OpenStack: bosh-stemcell-3177-openstack-kvm-ubuntu-trusty-go_agent\n- BOSH-Lite: bosh-stemcell-3147-warden-boshlite-ubuntu-trusty-go_agent\n\nThese are soft recommendations; several different versions of the BOSH and stemcells are likely to work fine with this version of cf-release and the corresponding versions of diego-release, garden-linux-release, and etcd-release.\n\n## \u003ca name='recommended-diego-version'\u003e\u003c/a\u003eRecommended Diego Version\n- Diego final release [v0.1446.0](https://github.com/cloudfoundry-incubator/diego-release/tree/v0.1446.0) · [release notes](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/v0.1446.0)\n\nThis is a soft recommendation; several different versions of the diego-release may work fine with this version of cf-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended Garden Linux Version\n- Garden-linux final release [v0.330.0](https://github.com/cloudfoundry-incubator/garden-linux-release/tree/v0.330.0) · [release notes](https://github.com/cloudfoundry-incubator/garden-linux-release/releases/tag/v0.330.0)\n\nThis is a soft recommendation; several different versions of the garden-linux release may work fine with this version of cf-release and the aforementioned version of diego-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended ETCD Version for Diego Deployment\n- Etcd final release [v22](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v22)\n\nThis is a soft recommendation; several different versions of the etcd release may work fine with this version of cf-release and the aforementioned version of diego-release.\n"
}