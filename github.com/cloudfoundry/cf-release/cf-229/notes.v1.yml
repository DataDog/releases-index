{
  "Content": "The cf-release v229 was released on January 22, 2016.\n\n### IMPORTANT\n- v229 includes a fix for CVE-2016-0713, a XSS vulnerability in Gorouter. In previous releases, if a malicious intermediary modified requests from client to router to contain malicious code, this code could be executed on the operating system of the client from where the request originated. To our knowledge, this vulnerability does not pose a risk for penetration or takeover of Cloud Foundry system components or applications hosted by Cloud Foundry. This vulnerability was introduced in v141. The Cloud Foundry project recommends that Cloud Foundry Deployments using Gorouter are upgraded to cf-release v229.\n- In support of work in progress to enable developers to specify application ports when mapping routes, cf-release v229 introduces a database migration for CCDB. **For deployments that use a PostgreSQL database for CCDB that is NOT the PostreSQL job that comes with cf-release**, v229 introduces the following requirements. These requirements are applicable for subsequent releases. If you are using the PostgreSQL job that comes with cf-release, or if you are using MySQL as the backing db for CC, no action is necessary. \n  - PostgreSQL 9.1 is required at a minimum\n  - For versions 9.1-9.3, operators must first install the extension [uuid-ossp](http://www.postgresql.org/docs/9.1/static/uuid-ossp.html)\n  - For versions 9.4 and newer, operators must first install the extension [pgcrypto](http://www.postgresql.org/docs/9.4/static/pgcrypto.html)\n- v229 contains a performance regression in Gorouter introduced in v228. At low request volume, the issue is not observable; only at higher request volumes (such as a load test) is the regression evident. The regression was fixed in v234. \n\n**Contents:**\n- \u003ca href='#cc-and-service-broker-apis'\u003eCC and Service Broker APIs\u003c/a\u003e\n- \u003ca href='#runtime'\u003eRuntime\u003c/a\u003e\n- \u003ca href='#buildpacks-and-stacks'\u003eBuildpacks and Stacks\u003c/a\u003e\n- \u003ca href='#identity'\u003eIdentity\u003c/a\u003e\n- \u003ca href='#routing'\u003eRouting\u003c/a\u003e\n- \u003ca href='#loggregator'\u003eLoggregator\u003c/a\u003e\n- \u003ca href='#internal-components'\u003eInternal Components\u003c/a\u003e\n- \u003ca href='#job-spec-changes'\u003eJob Spec Changes\u003c/a\u003e\n- \u003ca href='#recommended-bosh-stemcell-versions'\u003eRecommended BOSH Stemcell Versions\u003c/a\u003e\n- \u003ca href='#recommended-diego-version'\u003eRecommended Diego Version\u003c/a\u003e\n- \u003ca href='#recommended-garden-linux-version'\u003eRecommended Garden Linux Version\u003c/a\u003e\n\n## \u003ca name='cc-and-service-broker-apis'\u003e\u003c/a\u003eCC and Service Broker APIs\n\n**CC API Version: [2.47.0](http://apidocs.cloudfoundry.org/229)** \n\n**Service Broker API Version: [2.8](http://docs.cloudfoundry.org/services/api.html)**\n\n#### [Cloud Controller](https://github.com/cloudfoundry/cloud_controller_ng/tree/9a727cade5cd8baf34d5c2f4443003a617f9f4a0)\n- [Experimental] Work continues on /v3 and Application Process Types [details](https://www.pivotaltracker.com/epic/show/1334418)\n- [Experimental] Work completed on Space Scoped Private Brokers [details](https://www.pivotaltracker.com/epic/show/1958398)\n  - Remove experimental flag on space guid for private brokers [details](https://www.pivotaltracker.com/story/show/111860675)\n- [Experimental] Work continues on Tasks [details](https://www.pivotaltracker.com/epic/show/2205074)\n- Cleanup spec/templates for unused properties [details](https://www.pivotaltracker.com/story/show/102523218)\n- Allow use of the \"IN\" filter for organization_guid on routes [details](https://www.pivotaltracker.com/story/show/110808814)\n- Do not incorrectly claim domains are queryable by space_guid [details](https://www.pivotaltracker.com/story/show/110771756)\n- Disassociating users/roles from orgs by username returns 204 [1](https://www.pivotaltracker.com/story/show/110557930),[2](https://www.pivotaltracker.com/story/show/110557898),[3](https://www.pivotaltracker.com/story/show/110557858),[4](https://www.pivotaltracker.com/story/show/110557810)\n- Document interpretation of route existence endpoint return code [details](https://www.pivotaltracker.com/story/show/110328254)\n\n## \u003ca name='runtime'\u003e\u003c/a\u003eRuntime\n\n#### DEA\n- Ruby 2.2.4\n- [nproc is configurable](https://www.pivotaltracker.com/story/show/111542158)\n\n#### Warden\n- Ruby 2.2.4\n\n#### HM9000\n- Go 1.5\n\n## \u003ca name='buildpacks-and-stacks'\u003e\u003c/a\u003eBuildpacks and Stacks\n\n### stacks\n\nupdated to 1.29.0 (from 1.28.0)\n\n#### [1.29.0](https://github.com/cloudfoundry/stacks/releases/tag/1.29.0)\n\nNotably, this release addresses [USN-2869-1](http://www.ubuntu.com/usn/usn-2869-1/) \"OpenSSH vulnerabilities\":\n- [CVE-2016-0777](http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-0777.html): information leak in roaming support\n- [CVE-2016-0778](http://people.canonical.com/~ubuntu-security/cve/2016/CVE-2016-0778.html): buffer overflow in roaming support\n\n### java-buildpack\n\nupdated to v3.5.1 (from v3.4)\n\n#### [v3.5.1](https://github.com/cloudfoundry/java-buildpack/releases/tag/v3.5.1)\n\nI'm pleased to announce the release of the `java-buildpack`, version `3.5.1`. This release contains minor improvements and updates to dependencies.  It also addresses the critical vulnerability found in [CVE-2016-0708](https://pivotal.io/security/cve-2016-0708).\n- Secure JRebel (via [@bssie](https://github.com/cloudfoundry/java-buildpack/issues/262))\n- Improved documentation (via [Daniel Mikusa](https://github.com/cloudfoundry/java-buildpack/issues/266), [Violeta Georgieva](https://github.com/cloudfoundry/java-buildpack/pull/267))\n- Logging in the Luna Security Provider\n\nFor a more detailed look at the changes in `3.5.1`, please take a look at the [commit log](https://github.com/cloudfoundry/java-buildpack/compare/v3.4...v3.5.1). Packaged versions of the buildpack, suitable for use with `create-buildpack` and `update-buildpack`, can be found attached to this release.\n\n## Packaged Dependencies\n\n| Dependency | Version |\n| --- | --- |\n| AppDynamics Agent | `4.1.8_5` |\n| GemFire | `8.2.0` |\n| GemFire Modules | `8.2.0` |\n| GemFire Modules Tomcat7 | `8.2.0` |\n| GemFire Security | `8.2.0` |\n| Groovy | `2.4.5` |\n| JRebel | `6.3.1` |\n| MariaDB JDBC | `1.3.3` |\n| Memory Calculator (`mountainlion`) | `2.0.1.RELEASE` |\n| Memory Calculator (`precise`) | `2.0.1.RELEASE` |\n| Memory Calculator (`trusty`) | `2.0.1.RELEASE` |\n| New Relic Agent | `3.24.1` |\n| OpenJDK JRE (`mountainlion`) | `1.8.0_65` |\n| OpenJDK JRE (`precise`) | `1.8.0_65` |\n| OpenJDK JRE (`trusty`) | `1.8.0_65` |\n| Play Framework JPA Plugin | `1.10.0.RELEASE` |\n| PostgreSQL JDBC | `9.4.1207` |\n| RedisStore | `1.2.0_RELEASE` |\n| SLF4J API | `1.5.8` |\n| SLF4J JDK14 | `1.5.8` |\n| Spring Auto-reconfiguration | `1.10.0_RELEASE` |\n| Spring Boot CLI | `1.3.1_RELEASE` |\n| Tomcat Access Logging Support | `2.4.0_RELEASE` |\n| Tomcat Lifecycle Support | `2.4.0_RELEASE` |\n| Tomcat Logging Support | `2.4.0_RELEASE` |\n| Tomcat | `8.0.30` |\n| YourKit Profiler | `2015.15084.0` |\n\n## \u003ca name='identity'\u003e\u003c/a\u003eIdentity\n\nUpdated to UAA release [3.0.0](https://github.com/cloudfoundry/uaa/releases/tag/3.0.0)\n\n## \u003ca name='routing'\u003e\u003c/a\u003eRouting\n\nRoute Services (in progress)\n- CC now validates route service urls for user-provided service instances [details](https://www.pivotaltracker.com/story/show/110127362)\n\nTCP Routing (in progress)\n- CC client can now specify an app port when mapping a TCP route to an app [details](https://www.pivotaltracker.com/story/show/102217102)\n- CC client can now specify an app port when mapping an HTTP route to an app [details](https://www.pivotaltracker.com/story/show/101453612)\n- Routing API will call UAA for new verification key when token can't be validated [details](https://www.pivotaltracker.com/story/show/104944844)\n\n## \u003ca name='loggregator'\u003e\u003c/a\u003eLoggregator\n\nNo change\n\n## \u003ca name='internal-components'\u003e\u003c/a\u003eInternal Components\n\n#### consul\n- Ensure startup script terminates before monit runs another startup, so that only one is ever running at a time. [details](https://www.pivotaltracker.com/story/show/111445644), [details](https://www.pivotaltracker.com/story/show/111354474)\n- Bump to Golang 1.5.3 to address [CVE-2015-8618](https://groups.google.com/forum/#!topic/golang-announce/MEATuOi_ei4). [details](https://www.pivotaltracker.com/story/show/111650530)\n\n#### etcd\n- Check DNS before etcd starts up in SSL mode. [details](https://www.pivotaltracker.com/story/show/111658564)\n\n#### etcd-metrics-server\n\nNo changes.\n\n#### route_registrar\n\nNo changes.\n\n## \u003ca name='job-spec-changes'\u003e\u003c/a\u003eJob Spec Changes\n- Zeroed the default values of the `name`, `build`, `version`, `support_address`, and `description` properties in the `cloud_controller_ng`, `cloud_controller_worker`, and `cloud_controller_clock` jobs. [details](https://www.pivotaltracker.com/story/show/102523218)\n- Removed `cc.info.name`, `cc.info.build`, `cc.info.version`, and `cc.info.description` properties from `cloud_controller_ng`, `cloud_controller_worker`, and `cloud_controller_clock` jobs. [details](https://www.pivotaltracker.com/story/show/102523218)\n- Removed `cc.info.custom` properties from `cloud_controller_worker`, and `cloud_controller_clock` jobs. [details](https://www.pivotaltracker.com/story/show/102523218)\n- Removed `cc.development_mode` property from `cloud_controller_clock` job. [details](https://www.pivotaltracker.com/story/show/102523218)\n- Removed `consul.agent.sync_timeout_in_seconds` property from `consul_agent` job. [details](https://www.pivotaltracker.com/story/show/111445644)\n- Added `dea_next.instance_nproc_limit` property to `dea_next` job. [details](https://www.pivotaltracker.com/story/show/111771030)\n- Added `etcd.dns_health_check_host` property to `etcd` job. [details](https://www.pivotaltracker.com/story/show/111658564)\n- Removed `uaa.jwt.policy.global.accessTokenValiditySeconds` and `uaa.jwt.policy.global.refreshTokenValiditySeconds` properties from `uaa` job. [details](https://www.pivotaltracker.com/story/show/108905018)\n- Added `uaa.authentication.policy.global.lockoutAfterFailures`, `uaa.authentication.policy.global.countFailuresWithinSeconds`, `uaa.authentication.policy.global.lockoutPeriodSeconds`, `uaa.password.policy.global.minLength`, `uaa.password.policy.global.maxLength`, `uaa.password.policy.global.requireUpperCaseCharacter`, `uaa.password.policy.global.requireLowerCaseCharacter`, `uaa.password.policy.global.requireDigit`, `uaa.password.policy.global.requireSpecialCharacter`, `uaa.password.policy.global.expirePasswordInMonths`, `uaa.jwt.policy.global.accessTokenValiditySeconds`, and `uaa.jwt.policy.global.refreshTokenValiditySeconds` properties to `uaa` job. [details](https://www.pivotaltracker.com/story/show/102034430)\n\n## \u003ca name='recommended-bosh-stemcell-versions'\u003e\u003c/a\u003eRecommended BOSH Stemcell Versions\n- AWS: light-bosh-stemcell-3181-aws-xen-hvm-ubuntu-trusty-go_agent\n- vSphere: bosh-stemcell-3181-vsphere-esxi-ubuntu-trusty-go_agent\n- OpenStack: bosh-stemcell-3181-openstack-kvm-ubuntu-trusty-go_agent\n- BOSH-Lite: bosh-stemcell-3147-warden-boshlite-ubuntu-trusty-go_agent\n\nThese are soft recommendations; several different versions of the BOSH and stemcells are likely to work fine with this version of cf-release and the corresponding versions of diego-release, garden-linux-release, and etcd-release.\n\n## \u003ca name='recommended-diego-version'\u003e\u003c/a\u003eRecommended Diego Version\n- Diego final release [v0.1447.0](https://github.com/cloudfoundry-incubator/diego-release/tree/v0.1447.0) · [release notes](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/v0.1447.0)\n\nThis is a soft recommendation; several different versions of the diego-release may work fine with this version of cf-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended Garden Linux Version\n- Garden-linux final release [v0.330.0](https://github.com/cloudfoundry-incubator/garden-linux-release/tree/v0.330.0) · [release notes](https://github.com/cloudfoundry-incubator/garden-linux-release/releases/tag/v0.330.0)\n\nThis is a soft recommendation; several different versions of the garden-linux release may work fine with this version of cf-release and the aforementioned version of diego-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended ETCD Version for Diego Deployment\n- Etcd final release [v22](https://github.com/cloudfoundry-incubator/etcd-release/releases/tag/v22)\n\nThis is a soft recommendation; several different versions of the etcd release may work fine with this version of cf-release and the aforementioned version of diego-release.\n"
}