{
  "Content": "The cf-release v220 was released on October 08, 2015.\n\n**Important:**\n- These release notes reflect the changes since v219, even though v219 was marked as a \"pre-release\".  The issue with v219 was minor, but if you skipped from v218 straight to v220, you should study release notes for both v219 and v220.\n- All route registration for UAA, Cloud Controller, Loggregator, and HM9000 is now being done by colocating the `route_registrar` job.  These components no longer advertise routes in their own source code.  See job configuration examples for [UAA](warden/cf-manifest.yml.erb#L257-L267), [Cloud Controller](https://github.com/cloudfoundry/cf-release/blob/v220/spec/fixtures/warden/cf-manifest.yml.erb#L341-L348), [Loggregator](https://github.com/cloudfoundry/loggregator/blob/2d0eb57f3931e75744ce3974fa721a3bb11c3c1b/manifest-templates/cf-lamb.yml#L76-L85), and [HM900](https://github.com/cloudfoundry/cf-release/blob/v220/spec/fixtures/warden/cf-manifest.yml.erb#L486-L493).\n- UAA now uses statsd to emit metrics to a colocated Metron Agent, which then forwards them on to Doppler and eventually out any Firehose you have configured and deployed.  This is in service of deprecating the Collector and all /varz endpoints.  You should collocate `statsd-injector` alongside `uaa`: [example](https://github.com/cloudfoundry/cf-release/blob/6793254b0a2a5b861000c7fe9d001a3e7dbc0796/spec/fixtures/warden/cf-manifest.yml.erb#L281-L282).\n\n**Contents:**\n- \u003ca href='#cc-and-service-broker-apis'\u003eCC and Service Broker APIs\u003c/a\u003e\n- \u003ca href='#runtime'\u003eRuntime\u003c/a\u003e\n- \u003ca href='#buildpacks-and-stacks'\u003eBuildpacks and Stacks\u003c/a\u003e\n- \u003ca href='#identity'\u003eIdentity\u003c/a\u003e\n- \u003ca href='#routing'\u003eRouting\u003c/a\u003e\n- \u003ca href='#loggregator'\u003eLoggregator\u003c/a\u003e\n- \u003ca href='#internal-components'\u003eInternal Components\u003c/a\u003e\n- \u003ca href='#job-spec-changes'\u003eJob Spec Changes\u003c/a\u003e\n- \u003ca href='#recommended-bosh-release-and-stemcell-versions'\u003eRecommended BOSH Release and Stemcell Versions\u003c/a\u003e\n- \u003ca href='#recommended-diego-version'\u003eRecommended Diego Version\u003c/a\u003e\n- \u003ca href='#recommended-garden-linux-version'\u003eRecommended Garden Linux Version\u003c/a\u003e\n\n## \u003ca name='cc-and-service-broker-apis'\u003e\u003c/a\u003eCC and Service Broker APIs\n\n**CC API Version: [2.39.0](http://apidocs.cloudfoundry.org/220)** \n\n**Service Broker API Version: 2.7**\n- Includes official support for Asynchronous Service Operations [epic](https://www.pivotaltracker.com/epic/show/2058352)\n- [service broker api docs](http://docs.cloudfoundry.org/services/api.html)\n\n#### [Cloud Controller](https://github.com/cloudfoundry/cloud_controller_ng/tree/64d935a61d5796ba7678171a251a0830a54b969b)\n- [Experimental] Work continues on /v3 and Application Process Types [details](https://www.pivotaltracker.com/epic/show/1334418)\n- [Experimental] Work continues on Private Brokers [details](https://www.pivotaltracker.com/epic/show/1958398)\n- [Experimental] Work continues on Route Services [details](https://www.pivotaltracker.com/epic/show/1884060)\n- cloudfoundry/cloud_controller_ng #442: Introducing idempotency to service instance deletion [details](https://www.pivotaltracker.com/story/show/104321232)\n- Improve api doc for file permissions on app bits upload endpoint [details](https://www.pivotaltracker.com/story/show/104139076) [apidoc](http://apidocs.cloudfoundry.org/220/apps/uploads_the_bits_for_an_app.html)\n- modify migration to support newer mysql versions [details](https://www.pivotaltracker.com/story/show/104681798)\n- Removed route registration from CC job.  This is now handled by the route_registrar job in cf-release [details](https://www.pivotaltracker.com/story/show/102962828)\n  - See release notes for v218 for details on the route_registrar job\n\n## \u003ca name='runtime'\u003e\u003c/a\u003eRuntime\n\n#### [DEA](https://github.com/cloudfoundry/dea_ng/commit/7264aea58d1557fc4ca1881e8b295a6ab9a0e950)\n- Close warden connections when destroyed. [details](https://github.com/cloudfoundry/dea_ng/commit/4806f3149487642de2c38f9df89256c9f5c5608a)\n- Close connections when staging is completed. [details](https://github.com/cloudfoundry/dea_ng/commit/0ee77d90caa0cf8416bc580276f4b123265d39f0)\n\n#### Warden\n\nNo changes.\n\n#### HM9000\n\nNo changes.\n\n## \u003ca name='buildpacks-and-stacks'\u003e\u003c/a\u003eBuildpacks and Stacks\n\nNo changes from v219.\n\n## \u003ca name='identity'\u003e\u003c/a\u003eIdentity\n- Bumped UAA to version 2.7.0.2 [details](https://github.com/cloudfoundry/uaa/releases/tag/2.7.0.2) \n\n## \u003ca name='routing'\u003e\u003c/a\u003eRouting\n- Work continues on support for TCP routes in CF with \n  - updates to CLI to expose router groups  ([epic](https://www.pivotaltracker.com/epic/show/2025854))\n  - updates to routes and shared domains in CC API  ([epic](https://www.pivotaltracker.com/epic/show/2025856))\n- Thanks to a PR from CAFxX, Gorouter logging performance has been optimized, log output is now consistent for missing fields, and superfluous zeros are no longer printed for request duration ([story](https://www.pivotaltracker.com/story/show/103165078))\n\n## \u003ca name='loggregator'\u003e\u003c/a\u003eLoggregator\n\n## \u003ca name='internal-components'\u003e\u003c/a\u003eInternal Components\n\nNo changes.\n\n## \u003ca name='job-spec-changes'\u003e\u003c/a\u003eJob Spec Changes\n- Added `uaa.clients.cc_routing.secret` property to `cloud_controller_ng` job. [details](https://www.pivotaltracker.com/story/show/100980124)\n- Removed `etcd.machines` property from `dea_logging_agent` job. [details](https://www.pivotaltracker.com/story/show/104333230) \n- Added `loggregator.etcd.machines` property to `syslog_drain_binder`, `doppler`, `metron_agent`, and `loggregator_trafficcontroller` jobs. [details](https://www.pivotaltracker.com/story/show/104333230)\n- Changed `route_registrar.routes` property in `route_registrar` job to accept tags to include with its route registrations. [details](https://www.pivotaltracker.com/story/show/104049016)\n\n## \u003ca name='recommended-bosh-release-and-stemcell-versions'\u003e\u003c/a\u003eRecommended BOSH Release and Stemcell Versions\n- BOSH Release Version: 201\n- BOSH Stemcell Version(s): 3026\n\nThese are soft recommendations; several different versions of the BOSH release and stemcell are likely to work fine with this version of cf-release.\n\n## \u003ca name='recommended-diego-version'\u003e\u003c/a\u003eRecommended Diego Version\n- Diego final release [v0.1434.0](https://github.com/cloudfoundry-incubator/diego-release/tree/v0.1434.0) Â· [release notes](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/0.1434.0)\n\nThis is a soft recommendation; several different versions of the diego-release may work fine with this version of cf-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended Garden Linux Version\n- Garden-linux final release [v0.307.0](https://github.com/cloudfoundry-incubator/garden-linux-release/tree/v0.307.0)\n\nThis is a soft recommendation; several different versions of the garden-linux release may work fine with this version of cf-release and the aforementioned version of diego-release.\n"
}