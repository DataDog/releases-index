{
  "Content": "The cf-release v219 was released on October 02, 2015.\n\n**Important:**\n- The bump in v219 to `etcd-metrics-server` turned out to not play nicely with `collector`, and caused `collector` to periodically crash.  If your system is dependent on `collector` for metrics, this will affect your deployment.  However, if you are not concerned with metrics from the `etcd` component, you can opt to not include `etcd-metrics-server` as part of your deployment.  In standard deployments, it is colocated with the `etcd_zN` jobs; you can simply remove the template from the list of colocated jobs.\n- The `uaa` job has a property called `router.servers` which is meant to be an array of the IPs of the routers, and the `haproxy` job has two properties called `router.servers.z1` and `router.servers.z2`.  Specifying these properties in the global properties map in your deployment manifest will be troublesome; it is advised to specify these properties at the job level.  The usual \"spiff\" manifest generation templates provided in the `cf-release` repository will do this out of the box for you.\n\n**Contents:**\n- \u003ca href='#cc-and-service-broker-apis'\u003eCC and Service Broker APIs\u003c/a\u003e\n- \u003ca href='#runtime'\u003eRuntime\u003c/a\u003e\n- \u003ca href='#buildpacks-and-stacks'\u003eBuildpacks and Stacks\u003c/a\u003e\n- \u003ca href='#identity'\u003eIdentity\u003c/a\u003e\n- \u003ca href='#routing'\u003eRouting\u003c/a\u003e\n- \u003ca href='#loggregator'\u003eLoggregator\u003c/a\u003e\n- \u003ca href='#internal-components'\u003eInternal Components\u003c/a\u003e\n- \u003ca href='#job-spec-changes'\u003eJob Spec Changes\u003c/a\u003e\n- \u003ca href='#recommended-bosh-release-and-stemcell-versions'\u003eRecommended BOSH Release and Stemcell Versions\u003c/a\u003e\n- \u003ca href='#recommended-diego-version'\u003eRecommended Diego Version\u003c/a\u003e\n- \u003ca href='#recommended-garden-linux-version'\u003eRecommended Garden Linux Version\u003c/a\u003e\n\n## \u003ca name='cc-and-service-broker-apis'\u003e\u003c/a\u003eCC and Service Broker APIs\n\n**CC API Version: [2.37.0](http://apidocs.cloudfoundry.org/219)** \n\n**Service Broker API Version: 2.6**\n\n**NOTE: upgrading to this release includes a truncate of the `events` table**\n\n#### [Cloud Controller](https://github.com/cloudfoundry/cloud_controller_ng/tree/a9cd77760df9b9afcf62ac82f6994e6497543bc5)\n- [Experimental] Work continues on /v3 and Application Process Types [details](https://www.pivotaltracker.com/epic/show/1334418)\n- [Experimental] Work continues on Private Brokers [details](https://www.pivotaltracker.com/epic/show/1958398)\n- [Experimental] Work continues on Route Services [details](https://www.pivotaltracker.com/epic/show/1884060)\n- [Experimental] As an operator or Org Manager, I expect to be able to CRUD app instance limits in a space quota [details](https://www.pivotaltracker.com/story/show/83375642)\n- Added api docs for new feature flags introduced in cf-release 218 to control if roles can be managed by username by org managers/space managers [details](https://www.pivotaltracker.com/story/show/102136044)\n- Remove experimental labels on Org/Space user management by username [details](https://www.pivotaltracker.com/story/show/104069060)\n- Updated description and removed experimental flag for purge parameter on service instance delete [details](https://www.pivotaltracker.com/story/show/103244542)\n- Remove experimental flag for accepts_incomplete and last_operation.\\* on service_instances endpoints [details](https://www.pivotaltracker.com/story/show/102629416)\n  - Will be bumping the service broker api to v2.7 in the next cf-release\n- Add app_ssh_oauth_client to /v2/info [details](https://www.pivotaltracker.com/story/show/103324658)\n- Add routing_endpoint to /v2/info [details](https://www.pivotaltracker.com/story/show/103958978)\n- cloudfoundry/cloud_controller_ng #438: Upgrade to Ruby 2.2.3 for Cloud Controller [details](https://www.pivotaltracker.com/story/show/104029194)\n- cloudfoundry/cloud_controller_ng #416: Service binding validation should assert syslog_drain_url is empty [details](https://www.pivotaltracker.com/story/show/101929272)\n- cloudfoundry/cloud_controller_ng #431: 430 use U.S. spelling of 'rspec', drop --profile [details](https://www.pivotaltracker.com/story/show/103228636)\n- cloudfoundry/cloud_controller_ng #418: Added new events table index on timestamp and id. [details](https://www.pivotaltracker.com/story/show/101985370)\n- add index to actee_type on events table and truncate events table [details](https://www.pivotaltracker.com/story/show/103937080)\n- Ensure file mode is considered for package blobs [details](https://www.pivotaltracker.com/story/show/103143884)\n- Fixed issue where purge-service-offering failed if there's a service instance that's marked as \"in progress\" [details](https://www.pivotaltracker.com/story/show/101323282)\n- Fixed bug where Space auditor could not view routes with private domains [details](https://www.pivotaltracker.com/story/show/102294544)\n\n## \u003ca name='runtime'\u003e\u003c/a\u003eRuntime\n\nNo changes.\n\n## \u003ca name='buildpacks-and-stacks'\u003e\u003c/a\u003eBuildpacks and Stacks\n\n### stacks\n\nupdated to 1.9.0 (from 1.8.0)\n\n#### [1.9.0](https://github.com/cloudfoundry/stacks/releases/tag/1.9.0)\n\nNotably, this release addresses [USN-2740-1](http://www.ubuntu.com/usn/usn-2740-1), \"ICU vulnerabilities\", which is related to:\n- [CVE-2015-1270](http://people.ubuntu.com/~ubuntu-security/cve/CVE-2015-1270)\n- [CVE-2015-2632](http://people.ubuntu.com/~ubuntu-security/cve/CVE-2015-2632)\n- [CVE-2015-4760](http://people.ubuntu.com/~ubuntu-security/cve/CVE-2015-4760)\n\n### go-buildpack\n\nupdated to v1.6.2 (from v1.6.0)\n\n#### [v1.6.2](https://github.com/cloudfoundry/go-buildpack/releases/tag/v1.6.2)\n- Add support for Go `1.4.3` and removed support for Go `1.4.1`\n  (https://www.pivotaltracker.com/story/show/103969132)\n  \n  Go `1.4.3` is a security update for the following CVEs:\n  - [CVE-2015-5739](https://go-review.googlesource.com/#/c/11772/)\n    Content Length treated as valid header\n  - [CVE-2015-5740](https://go-review.googlesource.com/#/c/11810/)\n    Double content-length headers does not return 400 error\n  - [CVE-2015-5741](https://go-review.googlesource.com/#/c/11810/)\n    Additional hardening, not sending Content-Length w/Transfer-Encoding\n\nPackaged binaries:\n\n| name | version | cf_stacks |\n| --- | --- | --- |\n| go | 1.2.1 | cflinuxfs2 |\n| go | 1.2.2 | cflinuxfs2 |\n| go | 1.3.2 | cflinuxfs2 |\n| go | 1.3.3 | cflinuxfs2 |\n| go | 1.4.2 | cflinuxfs2 |\n| go | 1.4.3 | cflinuxfs2 |\n| go | 1.5 | cflinuxfs2 |\n| go | 1.5.1 | cflinuxfs2 |\n\n#### [v1.6.1](https://github.com/cloudfoundry/go-buildpack/releases/tag/v1.6.1)\n- Adding support for Go 1.5.1\n  (https://www.pivotaltracker.com/story/show/102971246)\n- Update default GOVERSION to 1.5.1 for .godir.\n  (https://www.pivotaltracker.com/story/show/103219562)\n\n### php-buildpack\n\nupdated to v4.1.4 (from v4.1.2)\n\n#### [v4.1.4](https://github.com/cloudfoundry/php-buildpack/releases/tag/v4.1.4)\n- update binaries for ICU vulnerabilities:\n  USN-2740-1, CVE-2015-1270, CVE-2015-2632, CVE-2015-4760\n  this commit removes libicu from the buildpack, and instead relies\n  upon the libraries delivered by the rootfs (note that rootfs 1.9.0\n  addresses this vulnerability).\n  (https://www.pivotaltracker.com/story/show/103531876)\n\nPackaged binaries:\n\n| name | version | cf_stacks | modules |\n| --- | --- | --- | --- |\n| php | 5.4.44 | cflinuxfs2 | amqp, apc, apcu, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib, zookeeper |\n| php | 5.4.45 | cflinuxfs2 | amqp, apc, apcu, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib, zookeeper |\n| php | 5.5.28 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.5.29 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xhprof, xsl, yaf, zip, zlib |\n| php | 5.6.12 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xsl, yaf, zip, zlib |\n| php | 5.6.13 | cflinuxfs2 | amqp, bz2, curl, dba, exif, fileinfo, ftp, gd, gettext, gmp, igbinary, imagick, imap, intl, ioncube, ldap, lua, mailparse, mbstring, mcrypt, memcache, memcached, mongo, msgpack, mysql, mysqli, opcache, openssl, pcntl, pdo, pdo_mysql, pdo_pgsql, pdo_sqlite, pgsql, phalcon, phpiredis, protobuf, protocolbuffers, pspell, readline, redis, snmp, soap, sockets, suhosin, sundown, twig, xcache, xdebug, xsl, yaf, zip, zlib |\n| hhvm | 3.5.0 | cflinuxfs2 |  |\n| hhvm | 3.5.1 | cflinuxfs2 |  |\n| hhvm | 3.6.0 | cflinuxfs2 |  |\n| hhvm | 3.6.1 | cflinuxfs2 |  |\n| composer | 1.0.0-alpha10 | cflinuxfs2 |  |\n| httpd | 2.4.16 | cflinuxfs2 |  |\n| newrelic | 4.23.3.111 | cflinuxfs2 |  |\n| nginx | 1.6.3 | cflinuxfs2 |  |\n| nginx | 1.8.0 | cflinuxfs2 |  |\n| nginx | 1.9.4 | cflinuxfs2 |  |\n\n#### [v4.1.3](https://github.com/cloudfoundry/php-buildpack/releases/tag/v4.1.3)\n\nPlease note that PHP 5.4 will reach \"End of Life\" on 2015-09-14. We intend to remove support for this version of PHP on or before 2015-10-16.\n- Updating PHP binaries for redis 2.2.7\n  (https://www.pivotaltracker.com/story/show/100925176)\n- Add support for PHP 5.4.45, 5.5.29, 5.6.13\n- Remove support for PHP 4.4.43, 5.5.27, 5.6.11\n  (https://www.pivotaltracker.com/story/show/102517700)\n- Upgrade nginx to 1.9.4\n\n### python-buildpack\n\nupdated to v1.5.1 (from v1.5.0)\n\n#### [v1.5.1](https://github.com/cloudfoundry/python-buildpack/releases/tag/v1.5.1)\n- Adding support for Python 3.5.0\n  (https://www.pivotaltracker.com/story/show/103268420)\n- Output buildpack information in detect script\n  (https://www.pivotaltracker.com/story/show/100757820)\n\nPackaged binaries:\n\n| name | version | cf_stacks |\n| --- | --- | --- |\n| python | 2.7.10 | cflinuxfs2 |\n| python | 2.7.9 | cflinuxfs2 |\n| python | 3.3.5 | cflinuxfs2 |\n| python | 3.3.6 | cflinuxfs2 |\n| python | 3.4.2 | cflinuxfs2 |\n| python | 3.4.3 | cflinuxfs2 |\n| python | 3.5.0 | cflinuxfs2 |\n| libffi | 3.1 | cflinuxfs2 |\n| libmemcache | 1.0.18 | cflinuxfs2 |\n\n## \u003ca name='identity'\u003e\u003c/a\u003eIdentity\n- Bumped UAA to version 2.7.0.2 [details](https://github.com/cloudfoundry/uaa/releases/tag/2.7.0.2) \n\n## \u003ca name='routing'\u003e\u003c/a\u003eRouting\n- Operator can now specify a preferred order of ciphers for Gorouter ([details](https://www.pivotaltracker.com/story/show/102429076))\n- Fixed issues causing logged errors for Gorouter log rotation ([details](https://www.pivotaltracker.com/story/show/103558422), [more details](https://www.pivotaltracker.com/story/show/104014514))\n- Thanks to LAMD team, Gorouter now emits metrics through loggregator firehose ([details](https://www.pivotaltracker.com/story/show/104012766), [more details](https://www.pivotaltracker.com/story/show/103849294))\n- Gorouter now logs `response_time` for tcp and websocket connections [details](https://www.pivotaltracker.com/story/show/85061316)\n- Fixed bug where uptime metric emitted by gorouter via /varz endpoint (used by collector) was not updated [details](https://www.pivotaltracker.com/story/show/99165904)\n\nWork continues on adding support for Route Services with:\n- a change to how keys used to encypt the Signature header can be rotated ([details](https://www.pivotaltracker.com/story/show/103048752))\n- X-Cf-Forwarded-Url is not expected with requests forwarded by route services [details](https://www.pivotaltracker.com/story/show/103710830)\n- updates to CC API for binding service instances to routes ([epic](https://www.pivotaltracker.com/epic/show/2031344))\n\nWork continues on support for TCP routes in CF with:\n- updated scopes for routing api ([details](https://www.pivotaltracker.com/story/show/102421604))\n- consolidating tcp routing api and routing-api, and updating tcp router and tcp emitter to us routing api ([epic](https://www.pivotaltracker.com/epic/show/2012078))\n- updates to expose router groups through CLI ([epic](https://www.pivotaltracker.com/epic/show/2025854))\n\n## \u003ca name='loggregator'\u003e\u003c/a\u003eLoggregator\n\n## \u003ca name='internal-components'\u003e\u003c/a\u003eInternal Components\n\n#### consul\n\nNo functional changes.\n\n#### etcd\n\nNo functional changes.\n\n#### etcd-metrics-server\n- Submit metrics to `metron_agent` in service of eventually deprecating /varz and the Collector. [details](https://www.pivotaltracker.com/story/show/103442992)\n- Support stats from more recent version of etcd. [details](https://github.com/cloudfoundry-incubator/etcd-metrics-server/commit/ff72b50ddc5efb01b671ebca67c709cd4a25edb5)\n\n#### route_registrar\n- Now supports specifying tags for registered routes, used when gorouter emits metrics (e.g. latency). [details](https://www.pivotaltracker.com/story/show/104049016)\n\n## \u003ca name='job-spec-changes'\u003e\u003c/a\u003eJob Spec Changes\n- Replaced `router.servers.z1` and `router.servers.z2` properties with `router.servers` in `uaa` job, to not limit deployments to 2 AZs. [details](https://www.pivotaltracker.com/story/show/104201166)\n- Added `uaa.id_token.disable` property to `uaa` job. [details](https://www.pivotaltracker.com/story/show/104458868)\n- Set default value of `login.protocol` property in `uaa` job to `https` and change default value of `cc.external_protocol` property from `http` to `https` in `cloud_controller_ng`, `cloud_controller_worker`, and `cloud_controller_clock` jobs. [details](https://www.pivotaltracker.com/n/projects/1382120/stories/103819652)\n- Removed `uaa.openid.fallbackToAuthcode` property from `uaa` job. [details](https://www.pivotaltracker.com/story/show/85628034)\n- Added `uaa.disableInternalAuth` and `uaa.disableInternalUserManagement` properties to `uaa` job. [details](https://www.pivotaltracker.com/story/show/103428166)\n- Added `app_ssh.oauth_client_id` property to `cloud_controller_ng` job. [details](https://www.pivotaltracker.com/story/show/103324658)\n- Added `cc.packages.max_valid_packages_stored` and `cc.droplets.max_staged_droplets_stored` properties to `cloud_controller_ng` job. [details](https://www.pivotaltracker.com/story/show/104377980)\n- Changed `consul.encrypt_keys` property in `consul_agent` job to support specifying encryption keys as plain strings, rather than requiring base64 encodings of 16-byte strings. [details](https://www.pivotaltracker.com/story/show/103639886)\n- Changed `route_registrar.routes` property in `route_registrar` job to include tag data. [details](https://www.pivotaltracker.com/story/show/104049016)\n- Remove many references to /varz and NATS properties in various Logging and Metrics jobs. [details](https://www.pivotaltracker.com/story/show/104134932):  \n  - Remove `nats.port`, `nats.machines`, `nats.password`, `nats.user`, and `doppler.collector_registrar_interval_milliseconds` properties from `doppler` job.\n  - Remove `traffic_controller.collector_registrar_interval_milliseconds` property from `loggregator_trafficcontroller` job.\n  - Remove `nats.port`, `nats.machines`, `nats.password`, `nats.user`, `metron_agent.collector_registrar_interval_milliseconds`, `metron_agent.status.port`, `metron_agent.status.password`, and `metron_agent.status.user` properties from `metron_agent` job.\n- Separate `router.route_service_secrets` property into `router.route_services_secret` and `router.route_services_secret_decrypt_only` properties in `gorouter` job. [details](https://www.pivotaltracker.com/story/show/103048752)\n- Remove default value for `router.cipher_suites` property in `gorouter` job. [details](https://www.pivotaltracker.com/story/show/102429076)\n- Rename `ha_proxy.buffer_size` property to `ha_proxy.buffer_size_byets` in `haproxy` job. [details](https://www.pivotaltracker.com/story/show/103048752)\n- Added `syslog_daemon_config.custom_rule` property to `metron_agent` job. [details](https://www.pivotaltracker.com/story/show/102646294)\n\n## \u003ca name='recommended-bosh-release-and-stemcell-versions'\u003e\u003c/a\u003eRecommended BOSH Release and Stemcell Versions\n- BOSH Release Version: 201\n- BOSH Stemcell Version(s): 3026\n\nThese are soft recommendations; several different versions of the BOSH release and stemcell are likely to work fine with this version of cf-release.\n\n## \u003ca name='recommended-diego-version'\u003e\u003c/a\u003eRecommended Diego Version\n- Diego final release [0.1434.0](https://github.com/cloudfoundry-incubator/diego-release/tree/0.1434.0) · [release notes](https://github.com/cloudfoundry-incubator/diego-release/releases/tag/0.1434.0)\n\nThis is a soft recommendation; several different versions of the diego-release may work fine with this version of cf-release.\n\n## \u003ca name='recommended-garden-linux-version'\u003e\u003c/a\u003eRecommended Garden Linux Version\n- Garden-linux final release [v0.307.0](https://github.com/cloudfoundry-incubator/garden-linux-release/tree/v0.307.0)\n\nThis is a soft recommendation; several different versions of the garden-linux release may work fine with this version of cf-release and the aforementioned version of diego-release.\n"
}