{
  "Content": "Stories included in release\r\n\r\n## Breaking Changes\r\nStarting with UAA bosh release v43 the following Default Authorities will be set by default for all new identity zones:\r\n- openid\r\n- password.write\r\n- uaa.user\r\n- approvals.me\r\n- profile\r\n- roles\r\n- user_attributes\r\n- uaa.offline_token\r\n\r\nThe following Default Authorities will be set by default for the system zone:\r\n- scim.me\r\n- cloud_controller.read\r\n- cloud_controller.write\r\n- cloud_controller_service_permissions.read\r\n- oauth.approvals\r\n- notification_preferences.read\r\n- notification_preferences.write\r\n\r\nThese values can be changed via the UAA Bosh release manifest or UAA identity zone APIs.\r\n\r\n### Other Spec Changes\r\n\r\n#### Support multiple SAML Keys with Active Key for SAML Key Rotation\r\n\r\n```\r\nlogin.saml.activeKeyId:\r\n    description: |\r\n      The active key to be used for signing messages and the key to be used to encrypt messages.\r\n      See login.saml.keys\r\n  login.saml.keys:\r\n    description: |\r\n      A map of keys where each map key is the name of the key. The login.saml.activeKeyId must match\r\n      one of the keys in the map.\r\n      To rotate keys, simply add keys. To activate a key, add it as the login.saml.activeKeyId\r\n    example: |\r\n      activeKeyId: key1\r\n      keys:\r\n        key1:\r\n          key: |\r\n            -----BEGIN RSA PRIVATE KEY-----\r\n            -----END RSA PRIVATE KEY-----\r\n          passphrase: password\r\n          certificate: |\r\n            -----BEGIN CERTIFICATE-----\r\n            -----END CERTIFICATE-----\r\n        key2:\r\n          key: |\r\n            -----BEGIN RSA PRIVATE KEY-----\r\n            -----END RSA PRIVATE KEY-----\r\n          passphrase: password\r\n          certificate: |\r\n            -----BEGIN CERTIFICATE-----\r\n            -----END CERTIFICATE-----\r\n  login.saml.serviceProviderKey:\r\n    description: \"Deprecated. Use login.saml.keys. Private key for the service provider certificate.\"\r\n  login.saml.serviceProviderKeyPassword:\r\n    description: \"Deprecated. Use login.saml.keys. Passphrase for the service provider private key.\"\r\n    default: \"\"\r\n  login.saml.serviceProviderCertificate:\r\n    description: \"Deprecated. Use login.saml.keys. Service provider certificate.\"\r\n```\r\n\r\n##### Support OpenID Connect Identity Provider Discovery URL\r\n\r\n```\r\n      my-oidc-provider:\r\n        type: oidc1.0\r\n        discoveryUrl: |\r\n          \u003cURL for OpenID Connect Identity Provider discovery, example: https://accounts.google.com/.well-known/openid-configuration\u003e\r\n          Using this automatic discovery and you can omit several attributes like issuer, auth endpoint,\r\n          token endpoint, userinfo endpoiint, token key url\r\n```\r\n\r\n##### Support UAADB TLS\r\n\r\n```\r\n  uaadb.tls_enabled :\r\n    description: \"Use TLS connection for UAA database\"\r\n    default: false\r\n\r\n```\r\n\r\n## Features\r\n\r\n- [Make User Default Authorities Zone Specific and allow setting them via API](https://www.pivotaltracker.com/story/show/138366483)\r\n- [Page that documents prop mapping](https://www.pivotaltracker.com/story/show/143598693)\r\n- [Unable to set discoveryUrl on OIDC/OAUTH providers in UAA config file](https://www.pivotaltracker.com/story/show/144964175)\r\n- [Better default for storeCustomAttributes](https://www.pivotaltracker.com/story/show/144966265)\r\n- [Ability to specify multiple SAML Keys with an active key id](https://www.pivotaltracker.com/story/show/145000637)\r\n- [Update the API docs for required_user_groups](https://www.pivotaltracker.com/story/show/145162435)\r\n- [JWT Bearer Token Exchange support external OIDC ](https://www.pivotaltracker.com/story/show/145414125)\r\n- [Provide the ability to register a client with jwt-bearer grant type](https://www.pivotaltracker.com/story/show/145560363)\r\n- [Support for UAA id_token to be exchanged for Access Token via JWT Bearer](https://www.pivotaltracker.com/story/show/145560395)\r\n- [Enable SSL/TLS for DB Configuration in UAA YML and in UAA Release Spec](https://www.pivotaltracker.com/story/show/145563953)\r\n- [All password changes should throw audit events](https://www.pivotaltracker.com/story/show/145865683)\r\n- [Validation for Clients of Type jwt-bearer](https://www.pivotaltracker.com/story/show/146031721)\r\n- [JWT token authentication - username allowed to be null and fail](https://www.pivotaltracker.com/story/show/146535625)\r\n- [Refactor DAO objects to always take zone-id parameter](https://www.pivotaltracker.com/story/show/146831443)\r\n- [Fix example for getting token from local UAA on the Github UAA readme](https://www.pivotaltracker.com/story/show/147706027)\r\n- [support id_token exchange for an access token within the same identity zone](https://www.pivotaltracker.com/story/show/148024983)\r\n- [Enable audience check for JWT Bearer Token Exchange](https://www.pivotaltracker.com/story/show/148634079)\r\n- [cloudfoundry/uaa #639: When acting as a SAML SP allow configuration of RequestedAuthnContext](https://www.pivotaltracker.com/story/show/147337801)\r\n\r\n## Bug Fixes\r\n\r\n- [cloudfoundry/uaa #611: Update approvals in profile deletes approvals for other client ids](https://www.pivotaltracker.com/story/show/145328585)\r\n- [Passing in ID token for check token endpoint returns 500 error](https://www.pivotaltracker.com/story/show/145980617)\r\n- [Handle null app launch URL causing NullPointerException on UAA home page](https://www.pivotaltracker.com/story/show/146385303)\r\n- [Race condition on OIDC/Oauth authentication](https://www.pivotaltracker.com/story/show/146451821)\r\n- [Documentation update for /password endpoint](https://www.pivotaltracker.com/story/show/146473017)\r\n- [cloudfoundry/uaa #628: UserInfo endpoint under .well-known/openid-configuration not correct](https://www.pivotaltracker.com/story/show/146504097)\r\n- [idp_discovery not working for OIDC with only discoveryUrl](https://www.pivotaltracker.com/story/show/146652967)\r\n- [password_resets documentation bug](https://www.pivotaltracker.com/story/show/147636575)\r\n- [cloudfoundry/uaa #640: Nullpointer exception in UAA](https://www.pivotaltracker.com/story/show/147676483)\r\n- [Missing documentation for GET /Users](https://www.pivotaltracker.com/story/show/147969499)\r\n- [Client secret can't be set to empty via yml](https://www.pivotaltracker.com/story/show/148262883)\r\n- [UAA incorrectly parses private keys created with openssl req](https://www.pivotaltracker.com/story/show/148849333)\r\n\r\n### Other Updates\r\n\r\nThe following dependencies have been updated:\r\n- Updated hibernate-validator to 4.3.2\r\n- Updated thymeleaf to 3.0.6 and ognl to 3.1.12\r\n- Updated owasp-esapi-java to 2.1.0.1\r\n- Updated spring-security-jwt to 1.0.8\r\n- Updated commons-collections to 3.2.2\r\n- Updated not-yet-commons-ssl to 0.3.17\r\n- Updated statsd to no longer use spring-security and tomcat-embed-logging-juli\r\n"
}