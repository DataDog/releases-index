{
  "Content": "### Highlights\n- Connections to database are severed when node becomes unhealthy\n  - HAProxy has been replaced by Switchboard as the proxy software\n- Made timeout for when a node is determined unhealthy configurable with `properties.proxy.healthcheck_timeout_millis`\n- Switchboard provides a dashboard that clearly displays node health in real time\n- Switchboard provides an API to retrieve node heath\n- Switchboard provides a configurable healthcheck port\n- Upgraded to MariaDB 10.0.16\n- Upgraded to Galera ~~25.3.9~~ 25.3.5\u003csup\u003e*\u003c/sup\u003e\n- Fixed bug where quota enforcer could fail when broker hasn't finished initializing\n- Updated templates to use Ubuntu Trusty stemcell version [2859](https://github.com/cloudfoundry/bosh/blob/master/CHANGELOG.md#2859) by default\n- Default instance type on AWS increased to m3.large\n- Default instances on vSphere have been increased to 4GB RAM, 2 CPU, 10GB persistent disk\n- Default compilation instances on vSphere have been increased to 4GB RAM, 4 CPU, 20GB persistent disk\n- Default plan names no longer contain -dev suffix\n- Improved logging for various subcomponents (proxy/switchboard, mariadb_ctrl)\n- Improved documentation around bootstrapping, latency, etc.\n- The acceptance-tests errand runs only smoke tests by default\n\n### Manifest changes\n- MySQL job\n  - Removed `properties.haproxy_mysql_user`\n- Proxy job\n  - Removed `properties.haproxy_mysql_user`\n  - Removed `properties.external_domain`\n  - Added `properties.proxy.port` (defaults to 3306)\n  - Added `properties.proxy.api_port` (defaults to 80)\n  - Added `properties.health_port` (defaults to 1936 for backwards compatibility with HAProxy)\n  - Added `properties.proxy.api_username`\n  - Added `properties.external_host` (which prepends \"p-mysql\" to the value of `properties.external_domain` in the spiff templates)\n  - Renamed `properties.mysql_ips` to `properties.cluster_ips`\n  - Renamed `properties.haproxy_stats_password` to `properties.proxy.api_password`\n- Acceptance-tests job\n  - Added `properties.smoke_tests_only` boolean (defaults to true)\n  - Added `timeout_scale` to adjust test command timeouts (defaults to 1)\n  - Added `properties.proxy.external_host`\n  - Added `properties.proxy.api_username`\n  - Added `properties.proxy.api_password`\n\n### Upgrading from previous releases\n\nRequires cf-release v193 or higher to support users changing the service plan for an instance.\n1. In your stub, change the following properties from:\n   \n   ```\n   jobs:\n   - name: proxy\n     properties:\n       haproxy_stats_password: \u003cpassword\u003e\n       mysql_ips: \u003cip list\u003e\n   ```\n   \n   to (values chosen to preserve functionality):\n   \n   ```\n     jobs:\n     - name: proxy\n       properties:\n         proxy:\n           api_username: admin\n           api_password: \u003cpassword\u003e\n         cluster_ips: \u003cip list\u003e\n   ```\n2. Generate your manifest as described in [Create Manifest and Deploy](/README.md#create-manifest-and-deploy).\n\n\u003csup\u003e*\u003c/sup\u003e The galera version was erroneously reported as 25.3.9. It is in fact 25.3.5. We regret the error.\n"
}