{
  "Content": "This release includes initial support for BBR. Try it out and give us your feedback in the [#container-networking](https://cloudfoundry.slack.com/messages/container-networking/details/) channel on cloudfoundry.slack.com. \r\n\r\nTake a look at [known issues](https://github.com/cloudfoundry-incubator/cf-networking-release/blob/develop/docs/known-issues.md) for current limitations and known issues.\r\n\r\nVerified with the following:\r\n- [CF deployment](https://github.com/cloudfoundry/cf-deployment/blob/97ac0712f409352972667721a34c96ba431578b7/cf-deployment.yml#L1626)\r\n\r\n## Manifest Changes\r\n**Links Enabled**\r\nThe `policy-server` now provides database connection info via a link which the new `policy-server-internal` job consumes:\r\n  - `cf_networking.policy_server.database.type`\r\n  - `cf_networking.policy_server.database.username`\r\n  - `cf_networking.policy_server.database.password`\r\n  - `cf_networking.policy_server.database.port`\r\n  - `cf_networking.policy_server.database.name`\r\n  - `cf_networking.policy_server.database.host`\r\n\r\n**New Properties**\r\n  - REQUIRED: A new job `policy-server-internal` has been added. This job requires the following properties:\r\n    - `cf_networking.policy_server_internal.ca_cert`\r\n    - `cf_networking.policy_server_internal.server_cert`\r\n    - `cf_networking.policy_server_internal.server_key`\r\n    There are additional optional paramaters that can be set and are viewable in [the spec file](../jobs/policy-server-internal/spec)\r\n  - An optional parameter has been added to configure the path to the iptables kernel log for\r\n    the iptables_logger.\r\n    - `cf_networking.iptables_logger.kernel_log_file`\r\n\r\n**Removed Properties**\r\n  - The `policy-server` job has removed the following properties:\r\n    - `cf_networking.policy_server.internal_listen_port`\r\n    - `cf_networking.policy_server.ca_cert`\r\n    - `cf_networking.policy_server.server_cert`\r\n    - `cf_networking.policy_server.server_key`\r\n\r\n**Changed Properties**\r\n  - The `consul.agent.services.policy-server` property for the `consul_agent` job on the `api` instance group\r\n    should be renamed to `consul.agent.services.policy-server-internal`.\r\n\r\n## Significant Changes\r\n\r\n### CLI Changes\r\n- [CLI can discover CF networking API endpoints and versions](https://www.pivotaltracker.com/story/show/149753377)\r\n\r\n### BBR Changes\r\n- [An operator can lock the policy server so policies cannot be added/deleted](https://www.pivotaltracker.com/story/show/148942935)\r\n- [operator can use scripts deployed with a colocated job to **restore** the policy server database on **mysql**](https://www.pivotaltracker.com/story/show/149612273)\r\n- [operator can use scripts deployed with a colocated job to **lock and unlock** the policy server API](https://www.pivotaltracker.com/story/show/149612281)\r\n- [operator can use scripts deployed with a colocated job to **backup** the policy server database on **mysql**](https://www.pivotaltracker.com/story/show/149706241)\r\n\r\n### Chores\r\n- [error response functions should take logger as an arg](https://www.pivotaltracker.com/story/show/149828779)\r\n- [Fix \"connection refused\" in postgres-tests](https://www.pivotaltracker.com/story/show/149965995)\r\n- [bump the go-sql-driver](https://www.pivotaltracker.com/story/show/150367670)\r\n\r\n"
}