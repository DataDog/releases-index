{
  "Content": "## **Contents**\r\n\r\n- [Notices](#notices)\r\n- [Component Updates](#component-updates)\r\n- [Compatible Releases](#compatible-releases)\r\n\r\n## Notices \u003ca id=\"notices\"\u003e\u003c/a\u003e\r\n\r\n- **IMPORTANT**: This version of Logsearch is based on ELK Stack v5, please refer to [Component Updates](#component-updates) for upgrade procedure.\r\n- This release adds post-start script for Elasticsearch jobs, that blocks shards reallocation during restart until the healthy state of cluster ([#39](https://github.com/cloudfoundry-community/logsearch-boshrelease/pull/39)). This eliminates the need to run `enable_shard_allocation` errand after each deploy.\r\n\r\n## Component Updates \u003ca id=\"component-updates\"\u003e\u003c/a\u003e\r\n\r\n* ELK Stack updated to v5 (Elasticsearch 5.0.0, Kibana 5.0.0, Logstash 5.2.2):\r\n  * **IMPORTANT**: To upgrade from previous Logsearch \u003c v205.0.0 versions you should configure parallel upgrade of **ALL** Elasticsearch Data instances, this can be done by adding next parameters to deployment stub:\r\n    ```\r\n    jobs:\r\n    - name: elasticsearch_data\r\n      ...\r\n      update:\r\n        canaries: 0\r\n        max_in_flight: set equal to number of Elasticsearch Data nodes\r\n        serial: true\r\n    ```\r\n     We also strongly recommend to run deploy command with `--recreate` flag.\r\n  * Replace [Kopf](https://github.com/lmenezes/elasticsearch-kopf) admin UI with [Cerebro](https://github.com/lmenezes/cerebro) since Kopf is no longer maintained.\r\n* Elasticsearch Curator bumped to 4.2.6:\r\n  * Curator now requires `unit` and `retention_period` [parameters](https://github.com/cloudfoundry-community/logsearch-boshrelease/blob/v205.0.0/jobs/curator/spec#L20-L25) for logs retention period configuration (default to 30 days).\r\n* HAProxy bumped to 1.6.11:\r\n  * Added optional config to enable HAProxy stats socket interface.\r\n  * Added RELP frontend/backend to HAProxy.\r\n* Redis bumped to 3.2.8\r\n* OpenJDK bumped to 1.8.0_121\r\n\r\n## Compatible Releases \u003ca id=\"compatible-releases\"\u003e\u003c/a\u003e\r\n\r\n- Logsearch for Cloud Foundry [v203.0.0](https://github.com/cloudfoundry-community/logsearch-for-cloudfoundry/tree/v203.0.0). Release notes for [v203.0.0](https://github.com/cloudfoundry-community/logsearch-for-cloudfoundry/releases/tag/v203.0.0)."
}